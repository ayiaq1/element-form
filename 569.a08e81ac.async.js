(self.webpackChunk_dawdler_schema_form_doc=self.webpackChunk_dawdler_schema_form_doc||[]).push([[569],{91896:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";eval(`/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": function() { return /* binding */ _extends; }
/* harmony export */ });
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTE4OTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvQHVtaWpzL2JhYmVsLXByZXNldC11bWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMuanM/ZDBlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufSJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=webpack-internal:///91896
`)},88492:function(){eval(`// extracted by mini-css-extract-plugin//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODg0OTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvZHVtaS10aGVtZS1kZWZhdWx0L2VzL2NvbXBvbmVudHMvRGFyay5sZXNzP2U3ZDkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=webpack-internal:///88492
`)},68993:function(){eval(`// extracted by mini-css-extract-plugin//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjg5OTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvZHVtaS10aGVtZS1kZWZhdWx0L2VzL2NvbXBvbmVudHMvTG9jYWxlU2VsZWN0Lmxlc3M/MzI1OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9
//# sourceURL=webpack-internal:///68993
`)},71812:function(){eval(`// extracted by mini-css-extract-plugin//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzE4MTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvZHVtaS10aGVtZS1kZWZhdWx0L2VzL2NvbXBvbmVudHMvTmF2YmFyLmxlc3M/ZGM5NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9
//# sourceURL=webpack-internal:///71812
`)},72404:function(){eval(`// extracted by mini-css-extract-plugin//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzI0MDQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvZHVtaS10aGVtZS1kZWZhdWx0L2VzL2NvbXBvbmVudHMvU2VhcmNoQmFyLmxlc3M/MjNhZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9
//# sourceURL=webpack-internal:///72404
`)},27034:function(){eval(`// extracted by mini-css-extract-plugin//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcwMzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvZHVtaS10aGVtZS1kZWZhdWx0L2VzL2NvbXBvbmVudHMvU2lkZU1lbnUubGVzcz9kMzBjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=
//# sourceURL=webpack-internal:///27034
`)},36157:function(){eval(`// extracted by mini-css-extract-plugin//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYxNTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvZHVtaS10aGVtZS1kZWZhdWx0L2VzL2NvbXBvbmVudHMvU2x1Z0xpc3QubGVzcz9jOTE3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=
//# sourceURL=webpack-internal:///36157
`)},30956:function(){eval(`// extracted by mini-css-extract-plugin//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA5NTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvZHVtaS10aGVtZS1kZWZhdWx0L2VzL3N0eWxlL2xheW91dC5sZXNzPzlkMTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=webpack-internal:///30956
`)},18098:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval(`var __webpack_unused_export__;


function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

__webpack_unused_export__ = ({
  value: true
});
exports.Z = void 0;

var _react = _interopRequireWildcard(__webpack_require__(67294));

var _context = _interopRequireDefault(__webpack_require__(20052));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * hooks for get meta data of current route
 * @param routes    project route configurations
 * @param pathname  pathname of location
 */
var useCurrentRouteMeta = function useCurrentRouteMeta(routes, pathname) {
  var handler = function handler() {
    var _args$0$find;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var pathWithoutSuffix = args[1].replace(/([^^])\\/$/, '$1');
    return _objectSpread(_objectSpread({}, ((_args$0$find = args[0].find(function (_ref) {
      var path = _ref.path;
      return path === pathWithoutSuffix;
    })) === null || _args$0$find === void 0 ? void 0 : _args$0$find.meta) || {}), {}, {
      __pathname: pathname
    });
  };

  var _useState = (0, _react.useState)(handler(routes, pathname)),
      _useState2 = _slicedToArray(_useState, 2),
      meta = _useState2[0],
      setMeta = _useState2[1];

  (0, _react.useLayoutEffect)(function () {
    setMeta(handler(routes, pathname));
  }, [pathname]);
  return meta;
};
/**
 * hooks for get locale from current route
 * @param locales   project locale configurations
 * @param pathname  pathname of location
 */


var useCurrentLocale = function useCurrentLocale(locales, pathname) {
  var handler = function handler() {
    var _args$0$find2;

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    // get locale by route prefix
    return ((_args$0$find2 = args[0].find(function (locale) {
      return new RegExp("/".concat(locale.name, "(/|$)")).test(args[1]);
    })) === null || _args$0$find2 === void 0 ? void 0 : _args$0$find2.name) || locales[0].name;
  };

  var _useState3 = (0, _react.useState)(handler(locales, pathname)),
      _useState4 = _slicedToArray(_useState3, 2),
      locale = _useState4[0],
      setLocale = _useState4[1];

  (0, _react.useLayoutEffect)(function () {
    setLocale(handler(locales, pathname));
  }, [pathname]);
  return locale;
};
/**
 * hooks for get menu data of current route
 * @param ctxConfig context config
 * @param locale    locale from current route
 * @param pathname  pathname of location
 */


var useCurrentMenu = function useCurrentMenu(ctxConfig, locale, pathname) {
  var handler = function handler() {
    var _args$0$menus$args$;

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    var navs = args[0].navs[args[1]] || [];
    var navPath = '*'; // find nav in reverse way to fallback to the first nav

    for (var i = navs.length - 1; i >= 0; i -= 1) {
      var nav = navs[i];
      var items = [nav].concat(nav.children).filter(Boolean);
      var matched = items.find(function (item) {
        return item.path && new RegExp("^".concat(item.path.replace(/\\.html$/, ''), "(/|.|$)")).test(args[2]);
      });

      if (matched) {
        navPath = matched.path;
        break;
      }
    }

    return ((_args$0$menus$args$ = args[0].menus[args[1]]) === null || _args$0$menus$args$ === void 0 ? void 0 : _args$0$menus$args$[navPath]) || [];
  };

  var _useState5 = (0, _react.useState)(handler(ctxConfig, locale, pathname)),
      _useState6 = _slicedToArray(_useState5, 2),
      menu = _useState6[0],
      setMenu = _useState6[1];

  (0, _react.useLayoutEffect)(function () {
    setMenu(handler(ctxConfig, locale, pathname));
  }, [ctxConfig.navs, ctxConfig.menus, locale, pathname]);
  return menu;
};
/**
 * hooks for doc base route path
 * @param locale    current locale
 * @param locales   project locale configurations
 * @param route     layout route configurations
 * @note  handle these points:
 *          1. locale prefix, such as empty or /zh-CN
 *          2. integrate mode route prefix, such as /~docs or /~docs/zh-CN
 */


var useCurrentBase = function useCurrentBase(locale, locales, route) {
  var handler = function handler() {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    if (args[0] === args[1][0].name) {
      // use layout route path as base in default locale
      return args[2].path;
    } // join layout route path & locale prefix in other locale


    return "".concat(route.path, "/").concat(locale).replace(/\\/\\//, '/');
  };

  var _useState7 = (0, _react.useState)(handler(locale, locales, route)),
      _useState8 = _slicedToArray(_useState7, 2),
      base = _useState8[0],
      setBase = _useState8[1];

  (0, _react.useLayoutEffect)(function () {
    setBase(handler(locale, locales, route));
  }, [locale]);
  return base;
};

var findDumiRoot = function findDumiRoot(routes) {
  var rootRoutes;

  var _iterator = _createForOfIteratorHelper(routes),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var item = _step.value;

      if (item.__dumiRoot) {
        rootRoutes = item.routes;
        break;
      } else if (item.routes && (rootRoutes = findDumiRoot(item.routes))) {
        break;
      }
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }

  return rootRoutes;
};
/**
 * outer theme layout
 */


var OuterLayout = function OuterLayout(props) {
  var location = props.location,
      route = props.route,
      children = props.children,
      config = props.config,
      apis = props.apis,
      demos = props.demos;
  var pathWithoutPrefix = location.pathname.replace( // to avoid stripped the first /
  route.path.replace(/^\\/$/, '//'), '');
  var routes = findDumiRoot(props.routes) || [];
  var meta = useCurrentRouteMeta(routes, location.pathname); // use non-prefix for detect current locale, such as /~docs/en-US -> /en-US

  var locale = useCurrentLocale(config.locales, pathWithoutPrefix);
  var menu = useCurrentMenu(config, locale, location.pathname);
  var base = useCurrentBase(locale, config.locales, route);
  return /*#__PURE__*/_react.default.createElement(_context.default.Provider, {
    value: {
      config: config,
      meta: meta.__pathname === location.pathname ? meta : {},
      locale: locale,
      nav: config.navs[locale] || [],
      menu: menu,
      base: base,
      routes: routes,
      apis: apis,
      demos: demos
    }
  }, children);
};

var _default = OuterLayout;
exports.Z = _default;//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTgwOTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvQHVtaWpzL3ByZXNldC1kdW1pL2xpYi90aGVtZS9sYXlvdXQuanM/MjljNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9jb250ZXh0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9jb250ZXh0XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlQmFiZWxJbnRlcm9wID0gbmV3IFdlYWtNYXAoKTsgdmFyIGNhY2hlTm9kZUludGVyb3AgPSBuZXcgV2Vha01hcCgpOyByZXR1cm4gKF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZShub2RlSW50ZXJvcCkgeyByZXR1cm4gbm9kZUludGVyb3AgPyBjYWNoZU5vZGVJbnRlcm9wIDogY2FjaGVCYWJlbEludGVyb3A7IH0pKG5vZGVJbnRlcm9wKTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmosIG5vZGVJbnRlcm9wKSB7IGlmICghbm9kZUludGVyb3AgJiYgb2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gaWYgKG9iaiA9PT0gbnVsbCB8fCBfdHlwZW9mKG9iaikgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iaiAhPT0gXCJmdW5jdGlvblwiKSB7IHJldHVybiB7IGRlZmF1bHQ6IG9iaiB9OyB9IHZhciBjYWNoZSA9IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZShub2RlSW50ZXJvcCk7IGlmIChjYWNoZSAmJiBjYWNoZS5oYXMob2JqKSkgeyByZXR1cm4gY2FjaGUuZ2V0KG9iaik7IH0gdmFyIG5ld09iaiA9IHt9OyB2YXIgaGFzUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKGtleSAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IGhhc1Byb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDogbnVsbDsgaWYgKGRlc2MgJiYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgaWYgKGNhY2hlKSB7IGNhY2hlLnNldChvYmosIG5ld09iaik7IH0gcmV0dXJuIG5ld09iajsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyB0aHJvdyBfZTI7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTMpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UzOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTsgaWYgKF9pID09IG51bGwpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfcywgX2U7IHRyeSB7IGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307IGkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSkgOiBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLyoqXG4gKiBob29rcyBmb3IgZ2V0IG1ldGEgZGF0YSBvZiBjdXJyZW50IHJvdXRlXG4gKiBAcGFyYW0gcm91dGVzICAgIHByb2plY3Qgcm91dGUgY29uZmlndXJhdGlvbnNcbiAqIEBwYXJhbSBwYXRobmFtZSAgcGF0aG5hbWUgb2YgbG9jYXRpb25cbiAqL1xudmFyIHVzZUN1cnJlbnRSb3V0ZU1ldGEgPSBmdW5jdGlvbiB1c2VDdXJyZW50Um91dGVNZXRhKHJvdXRlcywgcGF0aG5hbWUpIHtcbiAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgIHZhciBfYXJncyQwJGZpbmQ7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIHBhdGhXaXRob3V0U3VmZml4ID0gYXJnc1sxXS5yZXBsYWNlKC8oW15eXSlcXC8kLywgJyQxJyk7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgKChfYXJncyQwJGZpbmQgPSBhcmdzWzBdLmZpbmQoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBwYXRoID0gX3JlZi5wYXRoO1xuICAgICAgcmV0dXJuIHBhdGggPT09IHBhdGhXaXRob3V0U3VmZml4O1xuICAgIH0pKSA9PT0gbnVsbCB8fCBfYXJncyQwJGZpbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hcmdzJDAkZmluZC5tZXRhKSB8fCB7fSksIHt9LCB7XG4gICAgICBfX3BhdGhuYW1lOiBwYXRobmFtZVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBfdXNlU3RhdGUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShoYW5kbGVyKHJvdXRlcywgcGF0aG5hbWUpKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgbWV0YSA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRNZXRhID0gX3VzZVN0YXRlMlsxXTtcblxuICAoMCwgX3JlYWN0LnVzZUxheW91dEVmZmVjdCkoZnVuY3Rpb24gKCkge1xuICAgIHNldE1ldGEoaGFuZGxlcihyb3V0ZXMsIHBhdGhuYW1lKSk7XG4gIH0sIFtwYXRobmFtZV0pO1xuICByZXR1cm4gbWV0YTtcbn07XG4vKipcbiAqIGhvb2tzIGZvciBnZXQgbG9jYWxlIGZyb20gY3VycmVudCByb3V0ZVxuICogQHBhcmFtIGxvY2FsZXMgICBwcm9qZWN0IGxvY2FsZSBjb25maWd1cmF0aW9uc1xuICogQHBhcmFtIHBhdGhuYW1lICBwYXRobmFtZSBvZiBsb2NhdGlvblxuICovXG5cblxudmFyIHVzZUN1cnJlbnRMb2NhbGUgPSBmdW5jdGlvbiB1c2VDdXJyZW50TG9jYWxlKGxvY2FsZXMsIHBhdGhuYW1lKSB7XG4gIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICB2YXIgX2FyZ3MkMCRmaW5kMjtcblxuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIC8vIGdldCBsb2NhbGUgYnkgcm91dGUgcHJlZml4XG4gICAgcmV0dXJuICgoX2FyZ3MkMCRmaW5kMiA9IGFyZ3NbMF0uZmluZChmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIi9cIi5jb25jYXQobG9jYWxlLm5hbWUsIFwiKC98JClcIikpLnRlc3QoYXJnc1sxXSk7XG4gICAgfSkpID09PSBudWxsIHx8IF9hcmdzJDAkZmluZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hcmdzJDAkZmluZDIubmFtZSkgfHwgbG9jYWxlc1swXS5uYW1lO1xuICB9O1xuXG4gIHZhciBfdXNlU3RhdGUzID0gKDAsIF9yZWFjdC51c2VTdGF0ZSkoaGFuZGxlcihsb2NhbGVzLCBwYXRobmFtZSkpLFxuICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLFxuICAgICAgbG9jYWxlID0gX3VzZVN0YXRlNFswXSxcbiAgICAgIHNldExvY2FsZSA9IF91c2VTdGF0ZTRbMV07XG5cbiAgKDAsIF9yZWFjdC51c2VMYXlvdXRFZmZlY3QpKGZ1bmN0aW9uICgpIHtcbiAgICBzZXRMb2NhbGUoaGFuZGxlcihsb2NhbGVzLCBwYXRobmFtZSkpO1xuICB9LCBbcGF0aG5hbWVdKTtcbiAgcmV0dXJuIGxvY2FsZTtcbn07XG4vKipcbiAqIGhvb2tzIGZvciBnZXQgbWVudSBkYXRhIG9mIGN1cnJlbnQgcm91dGVcbiAqIEBwYXJhbSBjdHhDb25maWcgY29udGV4dCBjb25maWdcbiAqIEBwYXJhbSBsb2NhbGUgICAgbG9jYWxlIGZyb20gY3VycmVudCByb3V0ZVxuICogQHBhcmFtIHBhdGhuYW1lICBwYXRobmFtZSBvZiBsb2NhdGlvblxuICovXG5cblxudmFyIHVzZUN1cnJlbnRNZW51ID0gZnVuY3Rpb24gdXNlQ3VycmVudE1lbnUoY3R4Q29uZmlnLCBsb2NhbGUsIHBhdGhuYW1lKSB7XG4gIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICB2YXIgX2FyZ3MkMCRtZW51cyRhcmdzJDtcblxuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHZhciBuYXZzID0gYXJnc1swXS5uYXZzW2FyZ3NbMV1dIHx8IFtdO1xuICAgIHZhciBuYXZQYXRoID0gJyonOyAvLyBmaW5kIG5hdiBpbiByZXZlcnNlIHdheSB0byBmYWxsYmFjayB0byB0aGUgZmlyc3QgbmF2XG5cbiAgICBmb3IgKHZhciBpID0gbmF2cy5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkge1xuICAgICAgdmFyIG5hdiA9IG5hdnNbaV07XG4gICAgICB2YXIgaXRlbXMgPSBbbmF2XS5jb25jYXQobmF2LmNoaWxkcmVuKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICB2YXIgbWF0Y2hlZCA9IGl0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ucGF0aCAmJiBuZXcgUmVnRXhwKFwiXlwiLmNvbmNhdChpdGVtLnBhdGgucmVwbGFjZSgvXFwuaHRtbCQvLCAnJyksIFwiKC98LnwkKVwiKSkudGVzdChhcmdzWzJdKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICBuYXZQYXRoID0gbWF0Y2hlZC5wYXRoO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKChfYXJncyQwJG1lbnVzJGFyZ3MkID0gYXJnc1swXS5tZW51c1thcmdzWzFdXSkgPT09IG51bGwgfHwgX2FyZ3MkMCRtZW51cyRhcmdzJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FyZ3MkMCRtZW51cyRhcmdzJFtuYXZQYXRoXSkgfHwgW107XG4gIH07XG5cbiAgdmFyIF91c2VTdGF0ZTUgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShoYW5kbGVyKGN0eENvbmZpZywgbG9jYWxlLCBwYXRobmFtZSkpLFxuICAgICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLFxuICAgICAgbWVudSA9IF91c2VTdGF0ZTZbMF0sXG4gICAgICBzZXRNZW51ID0gX3VzZVN0YXRlNlsxXTtcblxuICAoMCwgX3JlYWN0LnVzZUxheW91dEVmZmVjdCkoZnVuY3Rpb24gKCkge1xuICAgIHNldE1lbnUoaGFuZGxlcihjdHhDb25maWcsIGxvY2FsZSwgcGF0aG5hbWUpKTtcbiAgfSwgW2N0eENvbmZpZy5uYXZzLCBjdHhDb25maWcubWVudXMsIGxvY2FsZSwgcGF0aG5hbWVdKTtcbiAgcmV0dXJuIG1lbnU7XG59O1xuLyoqXG4gKiBob29rcyBmb3IgZG9jIGJhc2Ugcm91dGUgcGF0aFxuICogQHBhcmFtIGxvY2FsZSAgICBjdXJyZW50IGxvY2FsZVxuICogQHBhcmFtIGxvY2FsZXMgICBwcm9qZWN0IGxvY2FsZSBjb25maWd1cmF0aW9uc1xuICogQHBhcmFtIHJvdXRlICAgICBsYXlvdXQgcm91dGUgY29uZmlndXJhdGlvbnNcbiAqIEBub3RlICBoYW5kbGUgdGhlc2UgcG9pbnRzOlxuICogICAgICAgICAgMS4gbG9jYWxlIHByZWZpeCwgc3VjaCBhcyBlbXB0eSBvciAvemgtQ05cbiAqICAgICAgICAgIDIuIGludGVncmF0ZSBtb2RlIHJvdXRlIHByZWZpeCwgc3VjaCBhcyAvfmRvY3Mgb3IgL35kb2NzL3poLUNOXG4gKi9cblxuXG52YXIgdXNlQ3VycmVudEJhc2UgPSBmdW5jdGlvbiB1c2VDdXJyZW50QmFzZShsb2NhbGUsIGxvY2FsZXMsIHJvdXRlKSB7XG4gIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICB9XG5cbiAgICBpZiAoYXJnc1swXSA9PT0gYXJnc1sxXVswXS5uYW1lKSB7XG4gICAgICAvLyB1c2UgbGF5b3V0IHJvdXRlIHBhdGggYXMgYmFzZSBpbiBkZWZhdWx0IGxvY2FsZVxuICAgICAgcmV0dXJuIGFyZ3NbMl0ucGF0aDtcbiAgICB9IC8vIGpvaW4gbGF5b3V0IHJvdXRlIHBhdGggJiBsb2NhbGUgcHJlZml4IGluIG90aGVyIGxvY2FsZVxuXG5cbiAgICByZXR1cm4gXCJcIi5jb25jYXQocm91dGUucGF0aCwgXCIvXCIpLmNvbmNhdChsb2NhbGUpLnJlcGxhY2UoL1xcL1xcLy8sICcvJyk7XG4gIH07XG5cbiAgdmFyIF91c2VTdGF0ZTcgPSAoMCwgX3JlYWN0LnVzZVN0YXRlKShoYW5kbGVyKGxvY2FsZSwgbG9jYWxlcywgcm91dGUpKSxcbiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSxcbiAgICAgIGJhc2UgPSBfdXNlU3RhdGU4WzBdLFxuICAgICAgc2V0QmFzZSA9IF91c2VTdGF0ZThbMV07XG5cbiAgKDAsIF9yZWFjdC51c2VMYXlvdXRFZmZlY3QpKGZ1bmN0aW9uICgpIHtcbiAgICBzZXRCYXNlKGhhbmRsZXIobG9jYWxlLCBsb2NhbGVzLCByb3V0ZSkpO1xuICB9LCBbbG9jYWxlXSk7XG4gIHJldHVybiBiYXNlO1xufTtcblxudmFyIGZpbmREdW1pUm9vdCA9IGZ1bmN0aW9uIGZpbmREdW1pUm9vdChyb3V0ZXMpIHtcbiAgdmFyIHJvb3RSb3V0ZXM7XG5cbiAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJvdXRlcyksXG4gICAgICBfc3RlcDtcblxuICB0cnkge1xuICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICBpZiAoaXRlbS5fX2R1bWlSb290KSB7XG4gICAgICAgIHJvb3RSb3V0ZXMgPSBpdGVtLnJvdXRlcztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ucm91dGVzICYmIChyb290Um91dGVzID0gZmluZER1bWlSb290KGl0ZW0ucm91dGVzKSkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfaXRlcmF0b3IuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvci5mKCk7XG4gIH1cblxuICByZXR1cm4gcm9vdFJvdXRlcztcbn07XG4vKipcbiAqIG91dGVyIHRoZW1lIGxheW91dFxuICovXG5cblxudmFyIE91dGVyTGF5b3V0ID0gZnVuY3Rpb24gT3V0ZXJMYXlvdXQocHJvcHMpIHtcbiAgdmFyIGxvY2F0aW9uID0gcHJvcHMubG9jYXRpb24sXG4gICAgICByb3V0ZSA9IHByb3BzLnJvdXRlLFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGNvbmZpZyA9IHByb3BzLmNvbmZpZyxcbiAgICAgIGFwaXMgPSBwcm9wcy5hcGlzLFxuICAgICAgZGVtb3MgPSBwcm9wcy5kZW1vcztcbiAgdmFyIHBhdGhXaXRob3V0UHJlZml4ID0gbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSggLy8gdG8gYXZvaWQgc3RyaXBwZWQgdGhlIGZpcnN0IC9cbiAgcm91dGUucGF0aC5yZXBsYWNlKC9eXFwvJC8sICcvLycpLCAnJyk7XG4gIHZhciByb3V0ZXMgPSBmaW5kRHVtaVJvb3QocHJvcHMucm91dGVzKSB8fCBbXTtcbiAgdmFyIG1ldGEgPSB1c2VDdXJyZW50Um91dGVNZXRhKHJvdXRlcywgbG9jYXRpb24ucGF0aG5hbWUpOyAvLyB1c2Ugbm9uLXByZWZpeCBmb3IgZGV0ZWN0IGN1cnJlbnQgbG9jYWxlLCBzdWNoIGFzIC9+ZG9jcy9lbi1VUyAtPiAvZW4tVVNcblxuICB2YXIgbG9jYWxlID0gdXNlQ3VycmVudExvY2FsZShjb25maWcubG9jYWxlcywgcGF0aFdpdGhvdXRQcmVmaXgpO1xuICB2YXIgbWVudSA9IHVzZUN1cnJlbnRNZW51KGNvbmZpZywgbG9jYWxlLCBsb2NhdGlvbi5wYXRobmFtZSk7XG4gIHZhciBiYXNlID0gdXNlQ3VycmVudEJhc2UobG9jYWxlLCBjb25maWcubG9jYWxlcywgcm91dGUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2NvbnRleHQuZGVmYXVsdC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgIG1ldGE6IG1ldGEuX19wYXRobmFtZSA9PT0gbG9jYXRpb24ucGF0aG5hbWUgPyBtZXRhIDoge30sXG4gICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgIG5hdjogY29uZmlnLm5hdnNbbG9jYWxlXSB8fCBbXSxcbiAgICAgIG1lbnU6IG1lbnUsXG4gICAgICBiYXNlOiBiYXNlLFxuICAgICAgcm91dGVzOiByb3V0ZXMsXG4gICAgICBhcGlzOiBhcGlzLFxuICAgICAgZGVtb3M6IGRlbW9zXG4gICAgfVxuICB9LCBjaGlsZHJlbik7XG59O1xuXG52YXIgX2RlZmF1bHQgPSBPdXRlckxheW91dDtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=webpack-internal:///18098
`)},32357:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval(`// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": function() { return /* binding */ es_layout; }
});

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(67294);
// EXTERNAL MODULE: ./node_modules/@umijs/preset-dumi/lib/theme/index.js
var theme = __webpack_require__(16924);
// EXTERNAL MODULE: ./.umi-production/core/umiExports.ts
var umiExports = __webpack_require__(73602);
// EXTERNAL MODULE: ./node_modules/dumi-theme-default/es/components/LocaleSelect.less
var LocaleSelect = __webpack_require__(68993);
;// CONCATENATED MODULE: ./node_modules/dumi-theme-default/es/components/LocaleSelect.js
 // @ts-ignore





var LocaleSelect_LocaleSelect = function LocaleSelect(_ref) {
  var location = _ref.location;

  var _useContext = (0,react.useContext)(theme.context),
      base = _useContext.base,
      locale = _useContext.locale,
      locales = _useContext.config.locales;

  var firstDiffLocale = locales.find(function (_ref2) {
    var name = _ref2.name;
    return name !== locale;
  });

  function getLocaleTogglePath(target) {
    var baseWithoutLocale = base.replace("/".concat(locale), '');
    var pathnameWithoutLocale = location.pathname.replace(new RegExp("^".concat(base, "(/|$)")), "".concat(baseWithoutLocale, "$1")) || '/'; // append locale prefix to path if it is not the default locale

    if (target !== locales[0].name) {
      // compatiable with integrate route prefix /~docs
      var routePrefix = "".concat(baseWithoutLocale, "/").concat(target).replace(/\\/\\//, '/');
      var pathnameWithoutBase = location.pathname.replace( // to avoid stripped the first /
      base.replace(/^\\/$/, '//'), '');
      return "".concat(routePrefix).concat(pathnameWithoutBase).replace(/\\/$/, '');
    }

    return pathnameWithoutLocale;
  }

  return firstDiffLocale ? /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-locale-select",
    "data-locale-count": locales.length
  }, locales.length > 2 ? /*#__PURE__*/react.createElement("select", {
    value: locale,
    onChange: function onChange(ev) {
      return umiExports/* history.push */.m.push(getLocaleTogglePath(ev.target.value));
    }
  }, locales.map(function (localeItem) {
    return /*#__PURE__*/react.createElement("option", {
      value: localeItem.name,
      key: localeItem.name
    }, localeItem.label);
  })) : /*#__PURE__*/react.createElement(theme.Link, {
    to: getLocaleTogglePath(firstDiffLocale.name)
  }, firstDiffLocale.label)) : null;
};

/* harmony default export */ var components_LocaleSelect = (LocaleSelect_LocaleSelect);
// EXTERNAL MODULE: ./node_modules/dumi-theme-default/es/components/Navbar.less
var Navbar = __webpack_require__(71812);
;// CONCATENATED MODULE: ./node_modules/dumi-theme-default/es/components/Navbar.js





var Navbar_Navbar = function Navbar(_ref) {
  var onMobileMenuClick = _ref.onMobileMenuClick,
      navPrefix = _ref.navPrefix,
      location = _ref.location,
      darkPrefix = _ref.darkPrefix;

  var _useContext = (0,react.useContext)(theme.context),
      base = _useContext.base,
      _useContext$config = _useContext.config,
      mode = _useContext$config.mode,
      title = _useContext$config.title,
      logo = _useContext$config.logo,
      navItems = _useContext.nav;

  return /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-navbar",
    "data-mode": mode
  }, /*#__PURE__*/react.createElement("button", {
    className: "__dumi-default-navbar-toggle",
    onClick: onMobileMenuClick
  }), /*#__PURE__*/react.createElement(theme.Link, {
    className: "__dumi-default-navbar-logo",
    style: {
      backgroundImage: logo && "url('".concat(logo, "')")
    },
    to: base,
    "data-plaintext": logo === false || undefined
  }, title), /*#__PURE__*/react.createElement("nav", null, navPrefix, navItems.map(function (nav) {
    var _nav$children;

    var child = Boolean((_nav$children = nav.children) === null || _nav$children === void 0 ? void 0 : _nav$children.length) && /*#__PURE__*/react.createElement("ul", null, nav.children.map(function (item) {
      return /*#__PURE__*/react.createElement("li", {
        key: item.path
      }, /*#__PURE__*/react.createElement(theme.NavLink, {
        to: item.path
      }, item.title));
    }));
    return /*#__PURE__*/react.createElement("span", {
      key: nav.title || nav.path
    }, nav.path ? /*#__PURE__*/react.createElement(theme.NavLink, {
      to: nav.path,
      key: nav.path
    }, nav.title) : nav.title, child);
  }), /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-navbar-tool"
  }, /*#__PURE__*/react.createElement(components_LocaleSelect, {
    location: location
  }), darkPrefix)));
};

/* harmony default export */ var components_Navbar = (Navbar_Navbar);
// EXTERNAL MODULE: ./node_modules/dumi-theme-default/es/components/SlugList.less
var SlugList = __webpack_require__(36157);
;// CONCATENATED MODULE: ./node_modules/dumi-theme-default/es/components/SlugList.js
var _excluded = ["slugs"];

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var SlugsList = function SlugsList(_ref) {
  var slugs = _ref.slugs,
      props = _objectWithoutProperties(_ref, _excluded);

  return /*#__PURE__*/react.createElement("ul", _extends({
    role: "slug-list"
  }, props), slugs.filter(function (_ref2) {
    var depth = _ref2.depth;
    return depth > 1 && depth < 4;
  }).map(function (slug) {
    return /*#__PURE__*/react.createElement("li", {
      key: slug.heading,
      title: slug.value,
      "data-depth": slug.depth
    }, /*#__PURE__*/react.createElement(theme.AnchorLink, {
      to: "#".concat(slug.heading)
    }, /*#__PURE__*/react.createElement("span", null, slug.value)));
  }));
};

/* harmony default export */ var components_SlugList = (SlugsList);
// EXTERNAL MODULE: ./node_modules/dumi-theme-default/es/components/SideMenu.less
var SideMenu = __webpack_require__(27034);
;// CONCATENATED MODULE: ./node_modules/dumi-theme-default/es/components/SideMenu.js






var SideMenu_SideMenu = function SideMenu(_ref) {
  var mobileMenuCollapsed = _ref.mobileMenuCollapsed,
      location = _ref.location,
      darkPrefix = _ref.darkPrefix;

  var _useContext = (0,react.useContext)(theme.context),
      _useContext$config = _useContext.config,
      logo = _useContext$config.logo,
      title = _useContext$config.title,
      description = _useContext$config.description,
      mode = _useContext$config.mode,
      repoUrl = _useContext$config.repository.url,
      menu = _useContext.menu,
      navItems = _useContext.nav,
      base = _useContext.base,
      meta = _useContext.meta;

  var isHiddenMenus = Boolean((meta.hero || meta.features || meta.gapless) && mode === 'site') || meta.sidemenu === false || undefined;
  return /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-menu",
    "data-mode": mode,
    "data-hidden": isHiddenMenus,
    "data-mobile-show": !mobileMenuCollapsed || undefined
  }, /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-menu-inner"
  }, /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-menu-header"
  }, /*#__PURE__*/react.createElement(theme.Link, {
    to: base,
    className: "__dumi-default-menu-logo",
    style: {
      backgroundImage: logo && "url('".concat(logo, "')")
    }
  }), /*#__PURE__*/react.createElement("h1", null, title), /*#__PURE__*/react.createElement("p", null, description), /github\\.com/.test(repoUrl) && mode === 'doc' && /*#__PURE__*/react.createElement("p", null, /*#__PURE__*/react.createElement("object", {
    type: "image/svg+xml",
    data: "https://img.shields.io/github/stars".concat(repoUrl.match(/((\\/[^\\/]+){2})$/)[1], "?style=social")
  }))), /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-menu-mobile-area"
  }, !!navItems.length && /*#__PURE__*/react.createElement("ul", {
    className: "__dumi-default-menu-nav-list"
  }, navItems.map(function (nav) {
    var _nav$children;

    var child = Boolean((_nav$children = nav.children) === null || _nav$children === void 0 ? void 0 : _nav$children.length) && /*#__PURE__*/react.createElement("ul", null, nav.children.map(function (item) {
      return /*#__PURE__*/react.createElement("li", {
        key: item.path || item.title
      }, /*#__PURE__*/react.createElement(theme.NavLink, {
        to: item.path
      }, item.title));
    }));
    return /*#__PURE__*/react.createElement("li", {
      key: nav.path || nav.title
    }, nav.path ? /*#__PURE__*/react.createElement(theme.NavLink, {
      to: nav.path
    }, nav.title) : nav.title, child);
  })), /*#__PURE__*/react.createElement(components_LocaleSelect, {
    location: location
  }), darkPrefix), /*#__PURE__*/react.createElement("ul", {
    className: "__dumi-default-menu-list"
  }, !isHiddenMenus && menu.map(function (item) {
    var _meta$slugs;

    // always use meta from routes to reduce menu data size
    var hasSlugs = Boolean((_meta$slugs = meta.slugs) === null || _meta$slugs === void 0 ? void 0 : _meta$slugs.length);
    var hasChildren = item.children && Boolean(item.children.length);
    var show1LevelSlugs = meta.toc === 'menu' && !hasChildren && hasSlugs && item.path === location.pathname.replace(/([^^])\\/$/, '$1');
    var menuPaths = hasChildren ? item.children.map(function (i) {
      return i.path;
    }) : [item.path, // handle menu group which has no index route and no valid children
    location.pathname.startsWith("".concat(item.path, "/")) && meta.title === item.title ? location.pathname : null];
    return /*#__PURE__*/react.createElement("li", {
      key: item.path || item.title
    }, /*#__PURE__*/react.createElement(theme.NavLink, {
      to: item.path,
      isActive: function isActive() {
        return menuPaths.includes(location.pathname);
      }
    }, item.title), Boolean(item.children && item.children.length) && /*#__PURE__*/react.createElement("ul", null, item.children.map(function (child) {
      return /*#__PURE__*/react.createElement("li", {
        key: child.path
      }, /*#__PURE__*/react.createElement(theme.NavLink, {
        to: child.path,
        exact: true
      }, /*#__PURE__*/react.createElement("span", null, child.title)), Boolean(meta.toc === 'menu' && typeof window !== 'undefined' && child.path === location.pathname && hasSlugs) && /*#__PURE__*/react.createElement(components_SlugList, {
        slugs: meta.slugs
      }));
    })), show1LevelSlugs && /*#__PURE__*/react.createElement(components_SlugList, {
      slugs: meta.slugs
    }));
  }))));
};

/* harmony default export */ var components_SideMenu = (SideMenu_SideMenu);
// EXTERNAL MODULE: ./node_modules/dumi-theme-default/es/components/SearchBar.less
var SearchBar = __webpack_require__(72404);
;// CONCATENATED MODULE: ./node_modules/dumi-theme-default/es/components/SearchBar.js
function SearchBar_extends() { SearchBar_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return SearchBar_extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




var highlight = function highlight(key, title) {
  var index = title.toLowerCase().indexOf(key.toLowerCase());
  var l = key.length;
  return /*#__PURE__*/react.createElement(react.Fragment, null, title.substring(0, index), /*#__PURE__*/react.createElement("span", {
    className: "__dumi-default-search-highlight"
  }, title.substring(index, index + l)), title.substring(index + l, title.length));
};
/* harmony default export */ var components_SearchBar = (function () {
  var _useState = (0,react.useState)(''),
      _useState2 = _slicedToArray(_useState, 2),
      keywords = _useState2[0],
      setKeywords = _useState2[1];

  var _useState3 = (0,react.useState)([]),
      _useState4 = _slicedToArray(_useState3, 2),
      items = _useState4[0],
      setItems = _useState4[1];

  var input = (0,react.useRef)();
  var result = (0,theme.useSearch)(keywords);
  var emptySvg = /*#__PURE__*/react.createElement("svg", {
    className: "__dumi-default-search-empty",
    viewBox: "0 0 1024 1024",
    version: "1.1",
    xmlns: "http://www.w3.org/2000/svg",
    "p-id": "2347",
    width: "32",
    height: "32"
  }, /*#__PURE__*/react.createElement("path", {
    d: "M855.6 427.2H168.5c-12.7 0-24.4 6.9-30.6 18L4.4 684.7C1.5 689.9 0 695.8 0 701.8v287.1c0 19.4 15.7 35.1 35.1 35.1H989c19.4 0 35.1-15.7 35.1-35.1V701.8c0-6-1.5-11.8-4.4-17.1L886.2 445.2c-6.2-11.1-17.9-18-30.6-18zM673.4 695.6c-16.5 0-30.8 11.5-34.3 27.7-12.7 58.5-64.8 102.3-127.2 102.3s-114.5-43.8-127.2-102.3c-3.5-16.1-17.8-27.7-34.3-27.7H119c-26.4 0-43.3-28-31.1-51.4l81.7-155.8c6.1-11.6 18-18.8 31.1-18.8h622.4c13 0 25 7.2 31.1 18.8l81.7 155.8c12.2 23.4-4.7 51.4-31.1 51.4H673.4zM819.9 209.5c-1-1.8-2.1-3.7-3.2-5.5-9.8-16.6-31.1-22.2-47.8-12.6L648.5 261c-17 9.8-22.7 31.6-12.6 48.4 0.9 1.4 1.7 2.9 2.5 4.4 9.5 17 31.2 22.8 48 13L807 257.3c16.7-9.7 22.4-31 12.9-47.8zM375.4 261.1L255 191.6c-16.7-9.6-38-4-47.8 12.6-1.1 1.8-2.1 3.6-3.2 5.5-9.5 16.8-3.8 38.1 12.9 47.8L337.3 327c16.9 9.7 38.6 4 48-13.1 0.8-1.5 1.7-2.9 2.5-4.4 10.2-16.8 4.5-38.6-12.4-48.4zM512 239.3h2.5c19.5 0.3 35.5-15.5 35.5-35.1v-139c0-19.3-15.6-34.9-34.8-35.1h-6.4C489.6 30.3 474 46 474 65.2v139c0 19.5 15.9 35.4 35.5 35.1h2.5z"
  }));
  (0,react.useEffect)(function () {
    if (Array.isArray(result)) {
      setItems(result);
    } else if (typeof result === 'function') {
      result(".".concat(input.current.className));
    }
  }, [result]);
  return /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-search"
  }, /*#__PURE__*/react.createElement("input", SearchBar_extends({
    className: "__dumi-default-search-input",
    type: "search",
    ref: input
  }, Array.isArray(result) ? {
    value: keywords,
    onChange: function onChange(ev) {
      return setKeywords(ev.target.value);
    }
  } : {})), /*#__PURE__*/react.createElement("ul", null, items.length > 0 && items.map(function (meta) {
    var _meta$parent;

    return /*#__PURE__*/react.createElement("li", {
      key: meta.path,
      onClick: function onClick() {
        return setKeywords('');
      }
    }, /*#__PURE__*/react.createElement(theme.AnchorLink, {
      to: meta.path
    }, ((_meta$parent = meta.parent) === null || _meta$parent === void 0 ? void 0 : _meta$parent.title) && /*#__PURE__*/react.createElement("span", null, meta.parent.title), highlight(keywords, meta.title)));
  }), items.length === 0 && keywords && /*#__PURE__*/react.createElement("li", {
    style: {
      textAlign: 'center'
    }
  }, emptySvg)));
});
// EXTERNAL MODULE: ./node_modules/dumi-theme-default/es/components/Dark.less
var Dark = __webpack_require__(88492);
;// CONCATENATED MODULE: ./node_modules/dumi-theme-default/es/components/Dark.js
function Dark_slicedToArray(arr, i) { return Dark_arrayWithHoles(arr) || Dark_iterableToArrayLimit(arr, i) || Dark_unsupportedIterableToArray(arr, i) || Dark_nonIterableRest(); }

function Dark_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function Dark_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return Dark_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Dark_arrayLikeToArray(o, minLen); }

function Dark_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function Dark_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function Dark_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




;

var Dark_Dark = function Dark(_ref) {
  var darkSwitch = _ref.darkSwitch,
      onDarkSwitchClick = _ref.onDarkSwitchClick,
      isSideMenu = _ref.isSideMenu;
  var allState = ['dark', 'light', 'auto'];

  var _usePrefersColor = (0,theme.usePrefersColor)(),
      _usePrefersColor2 = Dark_slicedToArray(_usePrefersColor, 2),
      color = _usePrefersColor2[0],
      setColor = _usePrefersColor2[1];

  var prefersColor = color;
  var sunSvg = /*#__PURE__*/react.createElement("svg", {
    viewBox: "0 0 1024 1024",
    version: "1.1",
    xmlns: "http://www.w3.org/2000/svg",
    "p-id": "4026",
    width: "22",
    height: "22"
  }, /*#__PURE__*/react.createElement("path", {
    d: "M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z",
    "p-id": "4027"
  }));
  var moonSvg = /*#__PURE__*/react.createElement("svg", {
    viewBox: "0 0 1024 1024",
    version: "1.1",
    xmlns: "http://www.w3.org/2000/svg",
    "p-id": "3854",
    width: "22",
    height: "22"
  }, /*#__PURE__*/react.createElement("path", {
    d: "M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z",
    "p-id": "3855"
  }));
  var autoSvg = /*#__PURE__*/react.createElement("svg", {
    viewBox: "0 0 1024 1024",
    version: "1.1",
    xmlns: "http://www.w3.org/2000/svg",
    "p-id": "11002",
    width: "22",
    height: "22"
  }, /*#__PURE__*/react.createElement("path", {
    d: "M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z",
    "p-id": "11003"
  }));
  var list = allState.filter(function (state) {
    return state !== prefersColor;
  });

  var changeColor = function changeColor(ev, toColor) {
    if (!isSideMenu && onDarkSwitchClick) {
      onDarkSwitchClick(ev);
    }

    if (toColor === prefersColor) return;
    setColor(toColor);
  };

  var getSvg = function getSvg(baseColor) {
    switch (baseColor) {
      case 'dark':
        return /*#__PURE__*/react.createElement("button", {
          key: "dumi-dark-btn-moon",
          title: "Dark theme",
          onClick: function onClick(ev) {
            return changeColor(ev, baseColor);
          },
          className: "__dumi-default-dark-moon ".concat(baseColor === prefersColor ? '__dumi-default-dark-switch-active' : '')
        }, moonSvg);

      case 'light':
        return /*#__PURE__*/react.createElement("button", {
          key: "dumi-dark-btn-sun",
          title: "Light theme",
          onClick: function onClick(ev) {
            return changeColor(ev, baseColor);
          },
          className: "__dumi-default-dark-sun ".concat(baseColor === prefersColor ? '__dumi-default-dark-switch-active' : '')
        }, sunSvg);

      case 'auto':
        return /*#__PURE__*/react.createElement("button", {
          key: "dumi-dark-btn-auto",
          title: "Default to system",
          onClick: function onClick(ev) {
            return changeColor(ev, baseColor);
          },
          className: "__dumi-default-dark-auto ".concat(baseColor === prefersColor ? '__dumi-default-dark-switch-active' : '')
        }, autoSvg);

      default:
    }
  };

  return /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-dark"
  }, /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-dark-switch ".concat(!isSideMenu && darkSwitch ? "__dumi-default-dark-switch-open" : "")
  }, isSideMenu ? allState.map(function (item) {
    return getSvg(item);
  }) : getSvg(prefersColor)), !isSideMenu && darkSwitch && /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-dark-switch-list"
  }, list.map(function (item) {
    return getSvg(item);
  })));
};

/* harmony default export */ var components_Dark = (Dark_Dark);
// EXTERNAL MODULE: ./node_modules/dumi-theme-default/es/style/layout.less
var layout = __webpack_require__(30956);
;// CONCATENATED MODULE: ./node_modules/dumi-theme-default/es/layout.js
function layout_slicedToArray(arr, i) { return layout_arrayWithHoles(arr) || layout_iterableToArrayLimit(arr, i) || layout_unsupportedIterableToArray(arr, i) || layout_nonIterableRest(); }

function layout_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function layout_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return layout_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return layout_arrayLikeToArray(o, minLen); }

function layout_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function layout_iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function layout_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }










var Hero = function Hero(hero) {
  return /*#__PURE__*/react.createElement(react.Fragment, null, /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-layout-hero"
  }, hero.image && /*#__PURE__*/react.createElement("img", {
    src: hero.image
  }), /*#__PURE__*/react.createElement("h1", null, hero.title), /*#__PURE__*/react.createElement("div", {
    dangerouslySetInnerHTML: {
      __html: hero.desc
    }
  }), hero.actions && hero.actions.map(function (action) {
    return /*#__PURE__*/react.createElement(theme.Link, {
      to: action.link,
      key: action.text
    }, /*#__PURE__*/react.createElement("button", {
      type: "button"
    }, action.text));
  })));
};

var Features = function Features(features) {
  return /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-layout-features"
  }, features.map(function (feat) {
    return /*#__PURE__*/react.createElement("dl", {
      key: feat.title,
      style: {
        backgroundImage: feat.icon ? "url(".concat(feat.icon, ")") : undefined
      }
    }, feat.link ? /*#__PURE__*/react.createElement(theme.Link, {
      to: feat.link
    }, /*#__PURE__*/react.createElement("dt", null, feat.title)) : /*#__PURE__*/react.createElement("dt", null, feat.title), /*#__PURE__*/react.createElement("dd", {
      dangerouslySetInnerHTML: {
        __html: feat.desc
      }
    }));
  }));
};

var Layout = function Layout(_ref) {
  var _meta$slugs, _match;

  var children = _ref.children,
      location = _ref.location;

  var _useContext = (0,react.useContext)(theme.context),
      _useContext$config = _useContext.config,
      mode = _useContext$config.mode,
      repository = _useContext$config.repository,
      navItems = _useContext.nav,
      meta = _useContext.meta,
      locale = _useContext.locale;

  var repoUrl = repository.url,
      branch = repository.branch,
      platform = repository.platform;

  var _useState = (0,react.useState)(true),
      _useState2 = layout_slicedToArray(_useState, 2),
      menuCollapsed = _useState2[0],
      setMenuCollapsed = _useState2[1];

  var _useState3 = (0,react.useState)(false),
      _useState4 = layout_slicedToArray(_useState3, 2),
      darkSwitch = _useState4[0],
      setDarkSwitch = _useState4[1];

  var isSiteMode = mode === 'site';
  var showHero = isSiteMode && meta.hero;
  var showFeatures = isSiteMode && meta.features;
  var showSideMenu = meta.sidemenu !== false && !showHero && !showFeatures && !meta.gapless;
  var showSlugs = !showHero && !showFeatures && Boolean((_meta$slugs = meta.slugs) === null || _meta$slugs === void 0 ? void 0 : _meta$slugs.length) && (meta.toc === 'content' || meta.toc === undefined) && !meta.gapless;
  var isCN = /^zh|cn$/i.test(locale);
  var updatedTimeIns = new Date(meta.updatedTime);
  var updatedTime = "".concat(updatedTimeIns.toLocaleDateString([], {
    hour12: false
  }), " ").concat(updatedTimeIns.toLocaleTimeString([], {
    hour12: false
  }));
  var repoPlatform = {
    github: 'GitHub',
    gitlab: 'GitLab'
  }[((_match = (repoUrl || '').match(/(github|gitlab)/)) === null || _match === void 0 ? void 0 : _match[1]) || 'nothing'] || platform;
  return /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-layout",
    "data-route": location.pathname,
    "data-show-sidemenu": String(showSideMenu),
    "data-show-slugs": String(showSlugs),
    "data-site-mode": isSiteMode,
    "data-gapless": String(!!meta.gapless),
    onClick: function onClick() {
      setDarkSwitch(false);
      if (menuCollapsed) return;
      setMenuCollapsed(true);
    }
  }, /*#__PURE__*/react.createElement(components_Navbar, {
    location: location,
    navPrefix: /*#__PURE__*/react.createElement(components_SearchBar, null),
    darkPrefix: /*#__PURE__*/react.createElement(components_Dark, {
      darkSwitch: darkSwitch,
      onDarkSwitchClick: function onDarkSwitchClick(ev) {
        setDarkSwitch(function (val) {
          return !val;
        });
        ev.stopPropagation();
      },
      isSideMenu: false
    }),
    onMobileMenuClick: function onMobileMenuClick(ev) {
      setMenuCollapsed(function (val) {
        return !val;
      });
      ev.stopPropagation();
    }
  }), /*#__PURE__*/react.createElement(components_SideMenu, {
    darkPrefix: /*#__PURE__*/react.createElement(components_Dark, {
      darkSwitch: darkSwitch,
      isSideMenu: true
    }),
    mobileMenuCollapsed: menuCollapsed,
    location: location
  }), showSlugs && /*#__PURE__*/react.createElement(components_SlugList, {
    slugs: meta.slugs,
    className: "__dumi-default-layout-toc"
  }), showHero && Hero(meta.hero), showFeatures && Features(meta.features), /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-layout-content"
  }, children, !showHero && !showFeatures && meta.filePath && !meta.gapless && /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-layout-footer-meta"
  }, repoPlatform && /*#__PURE__*/react.createElement(theme.Link, {
    to: "".concat(repoUrl, "/edit/").concat(branch, "/").concat(meta.filePath)
  }, isCN ? "\\u5728 ".concat(repoPlatform, " \\u4E0A\\u7F16\\u8F91\\u6B64\\u9875") : "Edit this doc on ".concat(repoPlatform)), /*#__PURE__*/react.createElement("span", {
    "data-updated-text": isCN ? '\u6700\u540E\u66F4\u65B0\u65F6\u95F4\uFF1A' : 'Last update: '
  }, updatedTime)), (showHero || showFeatures) && meta.footer && /*#__PURE__*/react.createElement("div", {
    className: "__dumi-default-layout-footer",
    dangerouslySetInnerHTML: {
      __html: meta.footer
    }
  })));
};

/* harmony default export */ var es_layout = (Layout);//# sourceURL=[module]
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIzNTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvZHVtaS10aGVtZS1kZWZhdWx0L2VzL2NvbXBvbmVudHMvTG9jYWxlU2VsZWN0LmpzPzcwODMiLCJ3ZWJwYWNrOi8vQGRhd2RsZXIvc2NoZW1hLWZvcm0tZG9jLy4vbm9kZV9tb2R1bGVzL2R1bWktdGhlbWUtZGVmYXVsdC9lcy9jb21wb25lbnRzL05hdmJhci5qcz83NWJlIiwid2VicGFjazovL0BkYXdkbGVyL3NjaGVtYS1mb3JtLWRvYy8uL25vZGVfbW9kdWxlcy9kdW1pLXRoZW1lLWRlZmF1bHQvZXMvY29tcG9uZW50cy9TbHVnTGlzdC5qcz80NjhiIiwid2VicGFjazovL0BkYXdkbGVyL3NjaGVtYS1mb3JtLWRvYy8uL25vZGVfbW9kdWxlcy9kdW1pLXRoZW1lLWRlZmF1bHQvZXMvY29tcG9uZW50cy9TaWRlTWVudS5qcz9iOGU2Iiwid2VicGFjazovL0BkYXdkbGVyL3NjaGVtYS1mb3JtLWRvYy8uL25vZGVfbW9kdWxlcy9kdW1pLXRoZW1lLWRlZmF1bHQvZXMvY29tcG9uZW50cy9TZWFyY2hCYXIuanM/NjVjMyIsIndlYnBhY2s6Ly9AZGF3ZGxlci9zY2hlbWEtZm9ybS1kb2MvLi9ub2RlX21vZHVsZXMvZHVtaS10aGVtZS1kZWZhdWx0L2VzL2NvbXBvbmVudHMvRGFyay5qcz9kZmVlIiwid2VicGFjazovL0BkYXdkbGVyL3NjaGVtYS1mb3JtLWRvYy8uL25vZGVfbW9kdWxlcy9kdW1pLXRoZW1lLWRlZmF1bHQvZXMvbGF5b3V0LmpzP2QwMTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7IC8vIEB0cy1pZ25vcmVcblxuaW1wb3J0IHsgaGlzdG9yeSB9IGZyb20gJ2R1bWknO1xuaW1wb3J0IHsgY29udGV4dCwgTGluayB9IGZyb20gJ2R1bWkvdGhlbWUnO1xuaW1wb3J0ICcuL0xvY2FsZVNlbGVjdC5sZXNzJztcblxudmFyIExvY2FsZVNlbGVjdCA9IGZ1bmN0aW9uIExvY2FsZVNlbGVjdChfcmVmKSB7XG4gIHZhciBsb2NhdGlvbiA9IF9yZWYubG9jYXRpb247XG5cbiAgdmFyIF91c2VDb250ZXh0ID0gdXNlQ29udGV4dChjb250ZXh0KSxcbiAgICAgIGJhc2UgPSBfdXNlQ29udGV4dC5iYXNlLFxuICAgICAgbG9jYWxlID0gX3VzZUNvbnRleHQubG9jYWxlLFxuICAgICAgbG9jYWxlcyA9IF91c2VDb250ZXh0LmNvbmZpZy5sb2NhbGVzO1xuXG4gIHZhciBmaXJzdERpZmZMb2NhbGUgPSBsb2NhbGVzLmZpbmQoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmMi5uYW1lO1xuICAgIHJldHVybiBuYW1lICE9PSBsb2NhbGU7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldExvY2FsZVRvZ2dsZVBhdGgodGFyZ2V0KSB7XG4gICAgdmFyIGJhc2VXaXRob3V0TG9jYWxlID0gYmFzZS5yZXBsYWNlKFwiL1wiLmNvbmNhdChsb2NhbGUpLCAnJyk7XG4gICAgdmFyIHBhdGhuYW1lV2l0aG91dExvY2FsZSA9IGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UobmV3IFJlZ0V4cChcIl5cIi5jb25jYXQoYmFzZSwgXCIoL3wkKVwiKSksIFwiXCIuY29uY2F0KGJhc2VXaXRob3V0TG9jYWxlLCBcIiQxXCIpKSB8fCAnLyc7IC8vIGFwcGVuZCBsb2NhbGUgcHJlZml4IHRvIHBhdGggaWYgaXQgaXMgbm90IHRoZSBkZWZhdWx0IGxvY2FsZVxuXG4gICAgaWYgKHRhcmdldCAhPT0gbG9jYWxlc1swXS5uYW1lKSB7XG4gICAgICAvLyBjb21wYXRpYWJsZSB3aXRoIGludGVncmF0ZSByb3V0ZSBwcmVmaXggL35kb2NzXG4gICAgICB2YXIgcm91dGVQcmVmaXggPSBcIlwiLmNvbmNhdChiYXNlV2l0aG91dExvY2FsZSwgXCIvXCIpLmNvbmNhdCh0YXJnZXQpLnJlcGxhY2UoL1xcL1xcLy8sICcvJyk7XG4gICAgICB2YXIgcGF0aG5hbWVXaXRob3V0QmFzZSA9IGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoIC8vIHRvIGF2b2lkIHN0cmlwcGVkIHRoZSBmaXJzdCAvXG4gICAgICBiYXNlLnJlcGxhY2UoL15cXC8kLywgJy8vJyksICcnKTtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChyb3V0ZVByZWZpeCkuY29uY2F0KHBhdGhuYW1lV2l0aG91dEJhc2UpLnJlcGxhY2UoL1xcLyQvLCAnJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGhuYW1lV2l0aG91dExvY2FsZTtcbiAgfVxuXG4gIHJldHVybiBmaXJzdERpZmZMb2NhbGUgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LWxvY2FsZS1zZWxlY3RcIixcbiAgICBcImRhdGEtbG9jYWxlLWNvdW50XCI6IGxvY2FsZXMubGVuZ3RoXG4gIH0sIGxvY2FsZXMubGVuZ3RoID4gMiA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsIHtcbiAgICB2YWx1ZTogbG9jYWxlLFxuICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldikge1xuICAgICAgcmV0dXJuIGhpc3RvcnkucHVzaChnZXRMb2NhbGVUb2dnbGVQYXRoKGV2LnRhcmdldC52YWx1ZSkpO1xuICAgIH1cbiAgfSwgbG9jYWxlcy5tYXAoZnVuY3Rpb24gKGxvY2FsZUl0ZW0pIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiwge1xuICAgICAgdmFsdWU6IGxvY2FsZUl0ZW0ubmFtZSxcbiAgICAgIGtleTogbG9jYWxlSXRlbS5uYW1lXG4gICAgfSwgbG9jYWxlSXRlbS5sYWJlbCk7XG4gIH0pKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHtcbiAgICB0bzogZ2V0TG9jYWxlVG9nZ2xlUGF0aChmaXJzdERpZmZMb2NhbGUubmFtZSlcbiAgfSwgZmlyc3REaWZmTG9jYWxlLmxhYmVsKSkgOiBudWxsO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9jYWxlU2VsZWN0OyIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29udGV4dCwgTGluaywgTmF2TGluayB9IGZyb20gJ2R1bWkvdGhlbWUnO1xuaW1wb3J0IExvY2FsZVNlbGVjdCBmcm9tICcuL0xvY2FsZVNlbGVjdCc7XG5pbXBvcnQgJy4vTmF2YmFyLmxlc3MnO1xuXG52YXIgTmF2YmFyID0gZnVuY3Rpb24gTmF2YmFyKF9yZWYpIHtcbiAgdmFyIG9uTW9iaWxlTWVudUNsaWNrID0gX3JlZi5vbk1vYmlsZU1lbnVDbGljayxcbiAgICAgIG5hdlByZWZpeCA9IF9yZWYubmF2UHJlZml4LFxuICAgICAgbG9jYXRpb24gPSBfcmVmLmxvY2F0aW9uLFxuICAgICAgZGFya1ByZWZpeCA9IF9yZWYuZGFya1ByZWZpeDtcblxuICB2YXIgX3VzZUNvbnRleHQgPSB1c2VDb250ZXh0KGNvbnRleHQpLFxuICAgICAgYmFzZSA9IF91c2VDb250ZXh0LmJhc2UsXG4gICAgICBfdXNlQ29udGV4dCRjb25maWcgPSBfdXNlQ29udGV4dC5jb25maWcsXG4gICAgICBtb2RlID0gX3VzZUNvbnRleHQkY29uZmlnLm1vZGUsXG4gICAgICB0aXRsZSA9IF91c2VDb250ZXh0JGNvbmZpZy50aXRsZSxcbiAgICAgIGxvZ28gPSBfdXNlQ29udGV4dCRjb25maWcubG9nbyxcbiAgICAgIG5hdkl0ZW1zID0gX3VzZUNvbnRleHQubmF2O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LW5hdmJhclwiLFxuICAgIFwiZGF0YS1tb2RlXCI6IG1vZGVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1uYXZiYXItdG9nZ2xlXCIsXG4gICAgb25DbGljazogb25Nb2JpbGVNZW51Q2xpY2tcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KExpbmssIHtcbiAgICBjbGFzc05hbWU6IFwiX19kdW1pLWRlZmF1bHQtbmF2YmFyLWxvZ29cIixcbiAgICBzdHlsZToge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiBsb2dvICYmIFwidXJsKCdcIi5jb25jYXQobG9nbywgXCInKVwiKVxuICAgIH0sXG4gICAgdG86IGJhc2UsXG4gICAgXCJkYXRhLXBsYWludGV4dFwiOiBsb2dvID09PSBmYWxzZSB8fCB1bmRlZmluZWRcbiAgfSwgdGl0bGUpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcIm5hdlwiLCBudWxsLCBuYXZQcmVmaXgsIG5hdkl0ZW1zLm1hcChmdW5jdGlvbiAobmF2KSB7XG4gICAgdmFyIF9uYXYkY2hpbGRyZW47XG5cbiAgICB2YXIgY2hpbGQgPSBCb29sZWFuKChfbmF2JGNoaWxkcmVuID0gbmF2LmNoaWxkcmVuKSA9PT0gbnVsbCB8fCBfbmF2JGNoaWxkcmVuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbmF2JGNoaWxkcmVuLmxlbmd0aCkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBudWxsLCBuYXYuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICAgIGtleTogaXRlbS5wYXRoXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChOYXZMaW5rLCB7XG4gICAgICAgIHRvOiBpdGVtLnBhdGhcbiAgICAgIH0sIGl0ZW0udGl0bGUpKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBrZXk6IG5hdi50aXRsZSB8fCBuYXYucGF0aFxuICAgIH0sIG5hdi5wYXRoID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2TGluaywge1xuICAgICAgdG86IG5hdi5wYXRoLFxuICAgICAga2V5OiBuYXYucGF0aFxuICAgIH0sIG5hdi50aXRsZSkgOiBuYXYudGl0bGUsIGNoaWxkKTtcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiX19kdW1pLWRlZmF1bHQtbmF2YmFyLXRvb2xcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMb2NhbGVTZWxlY3QsIHtcbiAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgfSksIGRhcmtQcmVmaXgpKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBOYXZiYXI7IiwidmFyIF9leGNsdWRlZCA9IFtcInNsdWdzXCJdO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQW5jaG9yTGluayB9IGZyb20gJ2R1bWkvdGhlbWUnO1xuaW1wb3J0ICcuL1NsdWdMaXN0Lmxlc3MnO1xuXG52YXIgU2x1Z3NMaXN0ID0gZnVuY3Rpb24gU2x1Z3NMaXN0KF9yZWYpIHtcbiAgdmFyIHNsdWdzID0gX3JlZi5zbHVncyxcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgX2V4dGVuZHMoe1xuICAgIHJvbGU6IFwic2x1Zy1saXN0XCJcbiAgfSwgcHJvcHMpLCBzbHVncy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgdmFyIGRlcHRoID0gX3JlZjIuZGVwdGg7XG4gICAgcmV0dXJuIGRlcHRoID4gMSAmJiBkZXB0aCA8IDQ7XG4gIH0pLm1hcChmdW5jdGlvbiAoc2x1Zykge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgIGtleTogc2x1Zy5oZWFkaW5nLFxuICAgICAgdGl0bGU6IHNsdWcudmFsdWUsXG4gICAgICBcImRhdGEtZGVwdGhcIjogc2x1Zy5kZXB0aFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFuY2hvckxpbmssIHtcbiAgICAgIHRvOiBcIiNcIi5jb25jYXQoc2x1Zy5oZWFkaW5nKVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBzbHVnLnZhbHVlKSkpO1xuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTbHVnc0xpc3Q7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb250ZXh0LCBMaW5rLCBOYXZMaW5rIH0gZnJvbSAnZHVtaS90aGVtZSc7XG5pbXBvcnQgTG9jYWxlU2VsZWN0IGZyb20gJy4vTG9jYWxlU2VsZWN0JztcbmltcG9ydCBTbHVnTGlzdCBmcm9tICcuL1NsdWdMaXN0JztcbmltcG9ydCAnLi9TaWRlTWVudS5sZXNzJztcblxudmFyIFNpZGVNZW51ID0gZnVuY3Rpb24gU2lkZU1lbnUoX3JlZikge1xuICB2YXIgbW9iaWxlTWVudUNvbGxhcHNlZCA9IF9yZWYubW9iaWxlTWVudUNvbGxhcHNlZCxcbiAgICAgIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbixcbiAgICAgIGRhcmtQcmVmaXggPSBfcmVmLmRhcmtQcmVmaXg7XG5cbiAgdmFyIF91c2VDb250ZXh0ID0gdXNlQ29udGV4dChjb250ZXh0KSxcbiAgICAgIF91c2VDb250ZXh0JGNvbmZpZyA9IF91c2VDb250ZXh0LmNvbmZpZyxcbiAgICAgIGxvZ28gPSBfdXNlQ29udGV4dCRjb25maWcubG9nbyxcbiAgICAgIHRpdGxlID0gX3VzZUNvbnRleHQkY29uZmlnLnRpdGxlLFxuICAgICAgZGVzY3JpcHRpb24gPSBfdXNlQ29udGV4dCRjb25maWcuZGVzY3JpcHRpb24sXG4gICAgICBtb2RlID0gX3VzZUNvbnRleHQkY29uZmlnLm1vZGUsXG4gICAgICByZXBvVXJsID0gX3VzZUNvbnRleHQkY29uZmlnLnJlcG9zaXRvcnkudXJsLFxuICAgICAgbWVudSA9IF91c2VDb250ZXh0Lm1lbnUsXG4gICAgICBuYXZJdGVtcyA9IF91c2VDb250ZXh0Lm5hdixcbiAgICAgIGJhc2UgPSBfdXNlQ29udGV4dC5iYXNlLFxuICAgICAgbWV0YSA9IF91c2VDb250ZXh0Lm1ldGE7XG5cbiAgdmFyIGlzSGlkZGVuTWVudXMgPSBCb29sZWFuKChtZXRhLmhlcm8gfHwgbWV0YS5mZWF0dXJlcyB8fCBtZXRhLmdhcGxlc3MpICYmIG1vZGUgPT09ICdzaXRlJykgfHwgbWV0YS5zaWRlbWVudSA9PT0gZmFsc2UgfHwgdW5kZWZpbmVkO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1tZW51XCIsXG4gICAgXCJkYXRhLW1vZGVcIjogbW9kZSxcbiAgICBcImRhdGEtaGlkZGVuXCI6IGlzSGlkZGVuTWVudXMsXG4gICAgXCJkYXRhLW1vYmlsZS1zaG93XCI6ICFtb2JpbGVNZW51Q29sbGFwc2VkIHx8IHVuZGVmaW5lZFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LW1lbnUtaW5uZXJcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LW1lbnUtaGVhZGVyXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGluaywge1xuICAgIHRvOiBiYXNlLFxuICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1tZW51LWxvZ29cIixcbiAgICBzdHlsZToge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiBsb2dvICYmIFwidXJsKCdcIi5jb25jYXQobG9nbywgXCInKVwiKVxuICAgIH1cbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaDFcIiwgbnVsbCwgdGl0bGUpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgZGVzY3JpcHRpb24pLCAvZ2l0aHViXFwuY29tLy50ZXN0KHJlcG9VcmwpICYmIG1vZGUgPT09ICdkb2MnICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcIm9iamVjdFwiLCB7XG4gICAgdHlwZTogXCJpbWFnZS9zdmcreG1sXCIsXG4gICAgZGF0YTogXCJodHRwczovL2ltZy5zaGllbGRzLmlvL2dpdGh1Yi9zdGFyc1wiLmNvbmNhdChyZXBvVXJsLm1hdGNoKC8oKFxcL1teXFwvXSspezJ9KSQvKVsxXSwgXCI/c3R5bGU9c29jaWFsXCIpXG4gIH0pKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiX19kdW1pLWRlZmF1bHQtbWVudS1tb2JpbGUtYXJlYVwiXG4gIH0sICEhbmF2SXRlbXMubGVuZ3RoICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwge1xuICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1tZW51LW5hdi1saXN0XCJcbiAgfSwgbmF2SXRlbXMubWFwKGZ1bmN0aW9uIChuYXYpIHtcbiAgICB2YXIgX25hdiRjaGlsZHJlbjtcblxuICAgIHZhciBjaGlsZCA9IEJvb2xlYW4oKF9uYXYkY2hpbGRyZW4gPSBuYXYuY2hpbGRyZW4pID09PSBudWxsIHx8IF9uYXYkY2hpbGRyZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9uYXYkY2hpbGRyZW4ubGVuZ3RoKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIG51bGwsIG5hdi5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgICAga2V5OiBpdGVtLnBhdGggfHwgaXRlbS50aXRsZVxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2TGluaywge1xuICAgICAgICB0bzogaXRlbS5wYXRoXG4gICAgICB9LCBpdGVtLnRpdGxlKSk7XG4gICAgfSkpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgIGtleTogbmF2LnBhdGggfHwgbmF2LnRpdGxlXG4gICAgfSwgbmF2LnBhdGggPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChOYXZMaW5rLCB7XG4gICAgICB0bzogbmF2LnBhdGhcbiAgICB9LCBuYXYudGl0bGUpIDogbmF2LnRpdGxlLCBjaGlsZCk7XG4gIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTG9jYWxlU2VsZWN0LCB7XG4gICAgbG9jYXRpb246IGxvY2F0aW9uXG4gIH0pLCBkYXJrUHJlZml4KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LW1lbnUtbGlzdFwiXG4gIH0sICFpc0hpZGRlbk1lbnVzICYmIG1lbnUubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdmFyIF9tZXRhJHNsdWdzO1xuXG4gICAgLy8gYWx3YXlzIHVzZSBtZXRhIGZyb20gcm91dGVzIHRvIHJlZHVjZSBtZW51IGRhdGEgc2l6ZVxuICAgIHZhciBoYXNTbHVncyA9IEJvb2xlYW4oKF9tZXRhJHNsdWdzID0gbWV0YS5zbHVncykgPT09IG51bGwgfHwgX21ldGEkc2x1Z3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tZXRhJHNsdWdzLmxlbmd0aCk7XG4gICAgdmFyIGhhc0NoaWxkcmVuID0gaXRlbS5jaGlsZHJlbiAmJiBCb29sZWFuKGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICB2YXIgc2hvdzFMZXZlbFNsdWdzID0gbWV0YS50b2MgPT09ICdtZW51JyAmJiAhaGFzQ2hpbGRyZW4gJiYgaGFzU2x1Z3MgJiYgaXRlbS5wYXRoID09PSBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC8oW15eXSlcXC8kLywgJyQxJyk7XG4gICAgdmFyIG1lbnVQYXRocyA9IGhhc0NoaWxkcmVuID8gaXRlbS5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiBpLnBhdGg7XG4gICAgfSkgOiBbaXRlbS5wYXRoLCAvLyBoYW5kbGUgbWVudSBncm91cCB3aGljaCBoYXMgbm8gaW5kZXggcm91dGUgYW5kIG5vIHZhbGlkIGNoaWxkcmVuXG4gICAgbG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aChcIlwiLmNvbmNhdChpdGVtLnBhdGgsIFwiL1wiKSkgJiYgbWV0YS50aXRsZSA9PT0gaXRlbS50aXRsZSA/IGxvY2F0aW9uLnBhdGhuYW1lIDogbnVsbF07XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwge1xuICAgICAga2V5OiBpdGVtLnBhdGggfHwgaXRlbS50aXRsZVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE5hdkxpbmssIHtcbiAgICAgIHRvOiBpdGVtLnBhdGgsXG4gICAgICBpc0FjdGl2ZTogZnVuY3Rpb24gaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiBtZW51UGF0aHMuaW5jbHVkZXMobG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgfVxuICAgIH0sIGl0ZW0udGl0bGUpLCBCb29sZWFuKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGgpICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgbnVsbCwgaXRlbS5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgICAgIGtleTogY2hpbGQucGF0aFxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2TGluaywge1xuICAgICAgICB0bzogY2hpbGQucGF0aCxcbiAgICAgICAgZXhhY3Q6IHRydWVcbiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBjaGlsZC50aXRsZSkpLCBCb29sZWFuKG1ldGEudG9jID09PSAnbWVudScgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgY2hpbGQucGF0aCA9PT0gbG9jYXRpb24ucGF0aG5hbWUgJiYgaGFzU2x1Z3MpICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNsdWdMaXN0LCB7XG4gICAgICAgIHNsdWdzOiBtZXRhLnNsdWdzXG4gICAgICB9KSk7XG4gICAgfSkpLCBzaG93MUxldmVsU2x1Z3MgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2x1Z0xpc3QsIHtcbiAgICAgIHNsdWdzOiBtZXRhLnNsdWdzXG4gICAgfSkpO1xuICB9KSkpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpZGVNZW51OyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfaSA9IGFyciA9PSBudWxsID8gbnVsbCA6IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyW1wiQEBpdGVyYXRvclwiXTsgaWYgKF9pID09IG51bGwpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfcywgX2U7IHRyeSB7IGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNlYXJjaCwgQW5jaG9yTGluayB9IGZyb20gJ2R1bWkvdGhlbWUnO1xuaW1wb3J0ICcuL1NlYXJjaEJhci5sZXNzJztcbmV4cG9ydCB2YXIgaGlnaGxpZ2h0ID0gZnVuY3Rpb24gaGlnaGxpZ2h0KGtleSwgdGl0bGUpIHtcbiAgdmFyIGluZGV4ID0gdGl0bGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgdmFyIGwgPSBrZXkubGVuZ3RoO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHRpdGxlLnN1YnN0cmluZygwLCBpbmRleCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LXNlYXJjaC1oaWdobGlnaHRcIlxuICB9LCB0aXRsZS5zdWJzdHJpbmcoaW5kZXgsIGluZGV4ICsgbCkpLCB0aXRsZS5zdWJzdHJpbmcoaW5kZXggKyBsLCB0aXRsZS5sZW5ndGgpKTtcbn07XG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKCkge1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoJycpLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICBrZXl3b3JkcyA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRLZXl3b3JkcyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShbXSksXG4gICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgICBpdGVtcyA9IF91c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRJdGVtcyA9IF91c2VTdGF0ZTRbMV07XG5cbiAgdmFyIGlucHV0ID0gdXNlUmVmKCk7XG4gIHZhciByZXN1bHQgPSB1c2VTZWFyY2goa2V5d29yZHMpO1xuICB2YXIgZW1wdHlTdmcgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LXNlYXJjaC1lbXB0eVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiLFxuICAgIHZlcnNpb246IFwiMS4xXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBcInAtaWRcIjogXCIyMzQ3XCIsXG4gICAgd2lkdGg6IFwiMzJcIixcbiAgICBoZWlnaHQ6IFwiMzJcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTg1NS42IDQyNy4ySDE2OC41Yy0xMi43IDAtMjQuNCA2LjktMzAuNiAxOEw0LjQgNjg0LjdDMS41IDY4OS45IDAgNjk1LjggMCA3MDEuOHYyODcuMWMwIDE5LjQgMTUuNyAzNS4xIDM1LjEgMzUuMUg5ODljMTkuNCAwIDM1LjEtMTUuNyAzNS4xLTM1LjFWNzAxLjhjMC02LTEuNS0xMS44LTQuNC0xNy4xTDg4Ni4yIDQ0NS4yYy02LjItMTEuMS0xNy45LTE4LTMwLjYtMTh6TTY3My40IDY5NS42Yy0xNi41IDAtMzAuOCAxMS41LTM0LjMgMjcuNy0xMi43IDU4LjUtNjQuOCAxMDIuMy0xMjcuMiAxMDIuM3MtMTE0LjUtNDMuOC0xMjcuMi0xMDIuM2MtMy41LTE2LjEtMTcuOC0yNy43LTM0LjMtMjcuN0gxMTljLTI2LjQgMC00My4zLTI4LTMxLjEtNTEuNGw4MS43LTE1NS44YzYuMS0xMS42IDE4LTE4LjggMzEuMS0xOC44aDYyMi40YzEzIDAgMjUgNy4yIDMxLjEgMTguOGw4MS43IDE1NS44YzEyLjIgMjMuNC00LjcgNTEuNC0zMS4xIDUxLjRINjczLjR6TTgxOS45IDIwOS41Yy0xLTEuOC0yLjEtMy43LTMuMi01LjUtOS44LTE2LjYtMzEuMS0yMi4yLTQ3LjgtMTIuNkw2NDguNSAyNjFjLTE3IDkuOC0yMi43IDMxLjYtMTIuNiA0OC40IDAuOSAxLjQgMS43IDIuOSAyLjUgNC40IDkuNSAxNyAzMS4yIDIyLjggNDggMTNMODA3IDI1Ny4zYzE2LjctOS43IDIyLjQtMzEgMTIuOS00Ny44ek0zNzUuNCAyNjEuMUwyNTUgMTkxLjZjLTE2LjctOS42LTM4LTQtNDcuOCAxMi42LTEuMSAxLjgtMi4xIDMuNi0zLjIgNS41LTkuNSAxNi44LTMuOCAzOC4xIDEyLjkgNDcuOEwzMzcuMyAzMjdjMTYuOSA5LjcgMzguNiA0IDQ4LTEzLjEgMC44LTEuNSAxLjctMi45IDIuNS00LjQgMTAuMi0xNi44IDQuNS0zOC42LTEyLjQtNDguNHpNNTEyIDIzOS4zaDIuNWMxOS41IDAuMyAzNS41LTE1LjUgMzUuNS0zNS4xdi0xMzljMC0xOS4zLTE1LjYtMzQuOS0zNC44LTM1LjFoLTYuNEM0ODkuNiAzMC4zIDQ3NCA0NiA0NzQgNjUuMnYxMzljMCAxOS41IDE1LjkgMzUuNCAzNS41IDM1LjFoMi41elwiXG4gIH0pKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XG4gICAgICBzZXRJdGVtcyhyZXN1bHQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVzdWx0KFwiLlwiLmNvbmNhdChpbnB1dC5jdXJyZW50LmNsYXNzTmFtZSkpO1xuICAgIH1cbiAgfSwgW3Jlc3VsdF0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1zZWFyY2hcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IFwiX19kdW1pLWRlZmF1bHQtc2VhcmNoLWlucHV0XCIsXG4gICAgdHlwZTogXCJzZWFyY2hcIixcbiAgICByZWY6IGlucHV0XG4gIH0sIEFycmF5LmlzQXJyYXkocmVzdWx0KSA/IHtcbiAgICB2YWx1ZToga2V5d29yZHMsXG4gICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2KSB7XG4gICAgICByZXR1cm4gc2V0S2V5d29yZHMoZXYudGFyZ2V0LnZhbHVlKTtcbiAgICB9XG4gIH0gOiB7fSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInVsXCIsIG51bGwsIGl0ZW1zLmxlbmd0aCA+IDAgJiYgaXRlbXMubWFwKGZ1bmN0aW9uIChtZXRhKSB7XG4gICAgdmFyIF9tZXRhJHBhcmVudDtcblxuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICAgIGtleTogbWV0YS5wYXRoLFxuICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgcmV0dXJuIHNldEtleXdvcmRzKCcnKTtcbiAgICAgIH1cbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBbmNob3JMaW5rLCB7XG4gICAgICB0bzogbWV0YS5wYXRoXG4gICAgfSwgKChfbWV0YSRwYXJlbnQgPSBtZXRhLnBhcmVudCkgPT09IG51bGwgfHwgX21ldGEkcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWV0YSRwYXJlbnQudGl0bGUpICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBtZXRhLnBhcmVudC50aXRsZSksIGhpZ2hsaWdodChrZXl3b3JkcywgbWV0YS50aXRsZSkpKTtcbiAgfSksIGl0ZW1zLmxlbmd0aCA9PT0gMCAmJiBrZXl3b3JkcyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImxpXCIsIHtcbiAgICBzdHlsZToge1xuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJ1xuICAgIH1cbiAgfSwgZW1wdHlTdmcpKSk7XG59KTsiLCJmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VQcmVmZXJzQ29sb3IgfSBmcm9tICdkdW1pL3RoZW1lJztcbmltcG9ydCAnLi9EYXJrLmxlc3MnO1xuO1xuXG52YXIgRGFyayA9IGZ1bmN0aW9uIERhcmsoX3JlZikge1xuICB2YXIgZGFya1N3aXRjaCA9IF9yZWYuZGFya1N3aXRjaCxcbiAgICAgIG9uRGFya1N3aXRjaENsaWNrID0gX3JlZi5vbkRhcmtTd2l0Y2hDbGljayxcbiAgICAgIGlzU2lkZU1lbnUgPSBfcmVmLmlzU2lkZU1lbnU7XG4gIHZhciBhbGxTdGF0ZSA9IFsnZGFyaycsICdsaWdodCcsICdhdXRvJ107XG5cbiAgdmFyIF91c2VQcmVmZXJzQ29sb3IgPSB1c2VQcmVmZXJzQ29sb3IoKSxcbiAgICAgIF91c2VQcmVmZXJzQ29sb3IyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVByZWZlcnNDb2xvciwgMiksXG4gICAgICBjb2xvciA9IF91c2VQcmVmZXJzQ29sb3IyWzBdLFxuICAgICAgc2V0Q29sb3IgPSBfdXNlUHJlZmVyc0NvbG9yMlsxXTtcblxuICB2YXIgcHJlZmVyc0NvbG9yID0gY29sb3I7XG4gIHZhciBzdW5TdmcgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7XG4gICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCIsXG4gICAgdmVyc2lvbjogXCIxLjFcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIFwicC1pZFwiOiBcIjQwMjZcIixcbiAgICB3aWR0aDogXCIyMlwiLFxuICAgIGhlaWdodDogXCIyMlwiXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNOTE1LjIgNDc2LjE2aC00My45NjhjLTI0LjcwNCAwLTQ0LjczNiAxNi00NC43MzYgMzUuODRzMjAuMDMyIDM1LjkwNCA0NC43MzYgMzUuOTA0SDkxNS4yYzI0Ljc2OCAwIDQ0LjgtMTYuMDY0IDQ0LjgtMzUuOTA0cy0yMC4wMzItMzUuODQtNDQuOC0zNS44NHpNNTEyIDI2NS42Yy0xMzYuNzA0IDAtMjQ2LjQ2NCAxMDkuODI0LTI0Ni40NjQgMjQ2LjQgMCAxMzYuNzA0IDEwOS43NiAyNDYuNDY0IDI0Ni40NjQgMjQ2LjQ2NFM3NTguNCA2NDguNzA0IDc1OC40IDUxMmMwLTEzNi41NzYtMTA5LjY5Ni0yNDYuNC0yNDYuNC0yNDYuNHogbTAgNDI1LjZjLTk5LjAwOCAwLTE3OS4yLTgwLjEyOC0xNzkuMi0xNzkuMiAwLTk4Ljk0NCA4MC4xOTItMTc5LjIgMTc5LjItMTc5LjJTNjkxLjIgNDEzLjA1NiA2OTEuMiA1MTJjMCA5OS4wNzItODAuMTkyIDE3OS4yLTE3OS4yIDE3OS4yek0xOTcuNDQgNTEyYzAtMTkuODQtMTkuMTM2LTM1Ljg0LTQzLjkwNC0zNS44NEgxMDguOGMtMjQuNzY4IDAtNDQuOCAxNi00NC44IDM1Ljg0czIwLjAzMiAzNS45MDQgNDQuOCAzNS45MDRoNDQuNzM2YzI0Ljc2OCAwIDQzLjkwNC0xNi4wNjQgNDMuOTA0LTM1LjkwNHpNNTEyIDE5OC40NjRjMTkuNzc2IDAgMzUuODQtMjAuMDMyIDM1Ljg0LTQ0Ljh2LTQ0LjhDNTQ3Ljg0IDg0LjAzMiA1MzEuODQgNjQgNTEyIDY0cy0zNS45MDQgMjAuMDMyLTM1LjkwNCA0NC44djQ0LjhjMCAyNC43NjggMTYuMTI4IDQ0Ljg2NCAzNS45MDQgNDQuODY0eiBtMCA2MjcuMTM2Yy0xOS43NzYgMC0zNS45MDQgMjAuMDMyLTM1LjkwNCA0NC44djQ0LjczNkM0NzYuMDk2IDk0MC4wMzIgNDkyLjE2IDk2MCA1MTIgOTYwczM1Ljg0LTIwLjAzMiAzNS44NC00NC44di00NC43MzZjMC0yNC43NjgtMTYuMDY0LTQ0Ljg2NC0zNS44NC00NC44NjR6IG0zMjkuOTItNTkyLjgzMmMxNy40NzItMTcuNTM2IDIwLjI4OC00My4wNzIgNi40LTU3LjAyNC0xNC4wMTYtMTQuMDE2LTM5LjQ4OC0xMS4yLTU3LjAyNCA2LjMzNi00LjczNiA0Ljg2NC0yNi40OTYgMjYuNDk2LTMxLjM2IDMxLjM2LTE3LjQ3MiAxNy40NzItMjAuMjg4IDQzLjAwOC02LjMzNiA1Ny4wMjQgMTMuOTUyIDE0LjAxNiAzOS40ODggMTEuMiA1Ny4wMjQtNi4zMzYgNC44LTQuODY0IDI2LjQ5Ni0yNi41NiAzMS4yOTYtMzEuMzZ6TTIxMy4zNzYgNzU5LjkzNmMtNC44NjQgNC44LTI2LjU2IDI2LjYyNC0zMS4zNiAzMS4zNi0xNy40NzIgMTcuNDcyLTIwLjI4OCA0Mi45NDQtNi40IDU2Ljk2IDE0LjAxNiAxMy45NTIgMzkuNTUyIDExLjIgNTcuMDI0LTYuMzM2IDQuOC00LjczNiAyNi41Ni0yNi40OTYgMzEuMzYtMzEuMzYgMTcuNDcyLTE3LjQ3MiAyMC4yODgtNDMuMDA4IDYuMzM2LTU2Ljk2LTE0LjAxNi0xMy45NTItMzkuNTUyLTExLjA3Mi01Ni45NiA2LjMzNnogbTE5LjMyOC01NzcuOTJjLTE3LjUzNi0xNy41MzYtNDMuMDA4LTIwLjM1Mi01Ny4wMjQtNi4zMzYtMTQuMDggMTQuMDE2LTExLjEzNiAzOS40ODggNi4zMzYgNTcuMDI0IDQuODY0IDQuODY0IDI2LjQ5NiAyNi41NiAzMS4zNiAzMS40MjQgMTcuNTM2IDE3LjQwOCA0My4wMDggMjAuMjg4IDU2Ljk2IDYuMzM2IDE0LjAxNi0xNC4wMTYgMTEuMjY0LTM5LjQ4OC02LjMzNi01Ny4wMjQtNC43MzYtNC44NjQtMjYuNDk2LTI2LjU2LTMxLjI5Ni0zMS40MjR6IG01MjcuMTY4IDYyOC42MDhjNC44NjQgNC44NjQgMjYuNjI0IDI2LjYyNCAzMS4zNiAzMS40MjQgMTcuNTM2IDE3LjQwOCA0My4wNzIgMjAuMjI0IDU3LjA4OCA2LjMzNiAxMy45NTItMTQuMDE2IDExLjA3Mi0zOS41NTItNi40LTU3LjAyNC00Ljg2NC00LjgtMjYuNTYtMjYuNDk2LTMxLjM2LTMxLjM2LTE3LjQ3Mi0xNy40MDgtNDMuMDcyLTIwLjI4OC01Ny4wMjQtNi4zMzYtMTMuOTUyIDE0LjAxNi0xMS4wMDggMzkuNDg4IDYuMzM2IDU2Ljk2elwiLFxuICAgIFwicC1pZFwiOiBcIjQwMjdcIlxuICB9KSk7XG4gIHZhciBtb29uU3ZnID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiLFxuICAgIHZlcnNpb246IFwiMS4xXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBcInAtaWRcIjogXCIzODU0XCIsXG4gICAgd2lkdGg6IFwiMjJcIixcbiAgICBoZWlnaHQ6IFwiMjJcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTk5MS44MTY2MTEgNjc0LjkwOTA5MWE2OS4xNjY1NDUgNjkuMTY2NTQ1IDAgMCAwLTUxLjY2NTQ1NS0yMy4yNzI3MjcgNzAuNzk1NjM2IDcwLjc5NTYzNiAwIDAgMC0yNy40Mzg1NDUgNS41ODU0NTRBNDE1LjY3NDE4MiA0MTUuNjc0MTgyIDAgMCAxIDc1NC45OTMzMzggNjk4LjE4MTgxOGMtMjA5LjU5NDE4MiAwLTM5My40NzItMTg0Ljc4NTQ1NS0zOTMuNDcyLTM5NS42MzYzNjMgMC01Mi4zNjM2MzYgMzguNTM5NjM2LTExOS42MjE4MTggNjkuNTE1NjM3LTE3My42MTQ1NDYgNC44ODcyNzMtOC42MTA5MDkgOS42MzQ5MDktMTYuNzU2MzY0IDE0LjEwMzI3Mi0yNC45MDE4MThBNjkuODE4MTgyIDY5LjgxODE4MiAwIDAgMCAzODQuNjMxMTU2IDBhNzAuODQyMTgyIDcwLjg0MjE4MiAwIDAgMC0yNy40Mzg1NDUgNS41ODU0NTVDMTYxLjY3ODQyOSA5MC4yOTgxODIgMTQuMzYyMDY1IDMwNy44OTgxODIgMTQuMzYyMDY1IDUxMmMwIDI4Mi4yOTgxODIgMjM4LjgyNDcyNyA1MTIgNTMyLjM4NjkxIDUxMmE1MjIuMjg2NTQ1IDUyMi4yODY1NDUgMCAwIDAgNDUzLjk1NzgxOC0yNjguMzM0NTQ1QTY5LjgxODE4MiA2OS44MTgxODIgMCAwIDAgOTkxLjgxNjYxMSA2NzQuOTA5MDkxek01NDYuNjc5MTU2IDk1NC4xODE4MThjLTI0OC43ODU0NTUgMC00NjIuOTQxMDkxLTE5Mi00NjIuOTQxMDkxLTQ0Mi4xODE4MTggMC0xODYuNjQ3MjczIDE0MC42MzcwOTEtMzcyLjgyOTA5MSAzMDAuOTM5NjM3LTQ0Mi4xODE4MTgtMzYuODE3NDU1IDY1LjYyOTA5MS05Mi41Nzg5MDkgMTUxLjk3MDkwOS05Mi41Nzg5MDkgMjMyLjcyNzI3MyAwIDI1MC4xODE4MTggMjE0LjEwOTA5MSA0NjUuNDU0NTQ1IDQ2Mi45MTc4MTggNDY1LjQ1NDU0NWE0ODguMzMxNjM2IDQ4OC4zMzE2MzYgMCAwIDAgMTg1LjE4MTA5MS00Ni41NDU0NTUgNDUzLjAwMzYzNiA0NTMuMDAzNjM2IDAgMCAxLTM5My41NjUwOTEgMjMyLjcyNzI3M3ogbTEwMy42NTY3MjgtNjY5LjMyMzYzNmwtMTQuMjY2MTgyIDgzLjc4MTgxOGEzNC45MDkwOTEgMzQuOTA5MDkxIDAgMCAwIDUwLjM2MjE4MiAzNi43NzA5MDlsNzQuNzc1MjcyLTM5LjU2MzYzNiA3NC43NTIgMzkuNTYzNjM2YTM2LjE0MjU0NSAzNi4xNDI1NDUgMCAwIDAgMTYuMTc0NTQ2IDMuOTU2MzY0IDM0LjkwOTA5MSAzNC45MDkwOTEgMCAwIDAgMzQuMjEwOTA5LTQwLjcyNzI3M2wtMTQuMjg5NDU1LTgzLjc4MTgxOCA2MC41MDkwOTEtNTkuMzQ1NDU1YTM1LjAyNTQ1NSAzNS4wMjU0NTUgMCAwIDAtMTkuMjIzMjcyLTU5LjU3ODE4MmwtODMuNjE4OTEtMTIuMTAxODE4LTM3LjM3Ni03Ni4xMDE4MThhMzQuNTYgMzQuNTYgMCAwIDAtNjIuMjU0NTQ1IDBsLTM3LjM3NiA3Ni4xMDE4MTgtODMuNjE4OTA5IDEyLjEwMTgxOGEzNC45MDkwOTEgMzQuOTA5MDkxIDAgMCAwLTE5LjI0NjU0NiA1OS41NzgxODJ6IG03MC40MjMyNzItNjQuNjk4MTgyYTM0LjI4MDcyNyAzNC4yODA3MjcgMCAwIDAgMjYuMTM1MjczLTE5LjA4MzYzNmwxNC4zMTI3MjctMjkuMDkwOTA5IDE0LjMzNiAyOS4wOTA5MDlhMzQuMjU3NDU1IDM0LjI1NzQ1NSAwIDAgMCAyNi4xMzUyNzMgMTkuMDgzNjM2bDMyLjA0NjU0NiA0Ljg4NzI3My0yMy4yNzI3MjggMjIuNTc0NTQ1YTM1LjIzNDkwOSAzNS4yMzQ5MDkgMCAwIDAtMTAuMDA3MjcyIDMwLjk1MjcyN2w1LjQ2OTA5IDMyLjExNjM2NC0yOC42MjU0NTQtMTUuMTI3MjczYTM0LjQ5MDE4MiAzNC40OTAxODIgMCAwIDAtMzIuMzAyNTQ2IDBsLTI4LjY5NTI3MiAxNS4xMjcyNzMgNS40NjkwOTEtMzIuMTE2MzY0YTM1LjE0MTgxOCAzNS4xNDE4MTggMCAwIDAtOS45ODQtMzAuOTUyNzI3bC0yMy4yNzI3MjgtMjIuNTc0NTQ1elwiLFxuICAgIFwicC1pZFwiOiBcIjM4NTVcIlxuICB9KSk7XG4gIHZhciBhdXRvU3ZnID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiLFxuICAgIHZlcnNpb246IFwiMS4xXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBcInAtaWRcIjogXCIxMTAwMlwiLFxuICAgIHdpZHRoOiBcIjIyXCIsXG4gICAgaGVpZ2h0OiBcIjIyXCJcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMjcuNjU4NjY3IDQ5Mi44ODUzMzNjMC01MS44ODI2NjcgMTAuMjQtMTAxLjcxNzMzMyAzMC4zNzg2NjYtMTQ5LjE2MjY2NnM0Ny43ODY2NjctODguMDY0IDgxLjkyLTEyMi41Mzg2NjcgNzUuMDkzMzMzLTYxLjc4MTMzMyAxMjIuNTM4NjY3LTgxLjkyIDk2LjkzODY2Ny0zMC4zNzg2NjcgMTQ5LjE2MjY2Ny0zMC4zNzg2NjcgMTAxLjcxNzMzMyAxMC4yNCAxNDkuMTYyNjY2IDMwLjM3ODY2NyA4OC40MDUzMzMgNDcuNzg2NjY3IDEyMi44OCA4MS45MiA2MS43ODEzMzMgNzUuMDkzMzMzIDgxLjkyIDEyMi41Mzg2NjcgMzAuMzc4NjY3IDk2LjkzODY2NyAzMC4zNzg2NjcgMTQ5LjE2MjY2Ni0xMC4yNCAxMDEuNzE3MzMzLTMwLjM3ODY2NyAxNDkuMTYyNjY3LTQ3Ljc4NjY2NyA4OC40MDUzMzMtODEuOTIgMTIyLjg4LTc1LjA5MzMzMyA2MS43ODEzMzMtMTIyLjg4IDgxLjkyLTk3LjI4IDMwLjM3ODY2Ny0xNDkuMTYyNjY2IDMwLjM3ODY2Ny0xMDEuNzE3MzMzLTEwLjI0LTE0OS4xNjI2NjctMzAuMzc4NjY3LTg4LjA2NC00Ny43ODY2NjctMTIyLjUzODY2Ny04MS45Mi02MS43ODEzMzMtNzUuMDkzMzMzLTgxLjkyLTEyMi44OC0zMC4zNzg2NjctOTYuOTM4NjY3LTMwLjM3ODY2Ni0xNDkuMTYyNjY3eiBtMzI5LjA0NTMzMyAwYzAgMTMwLjA0OCAxMy45OTQ2NjcgMjQ0LjM5NDY2NyA0MS45ODQgMzQzLjM4MTMzNGgxMi45NzA2NjdjNDYuNzYyNjY3IDAgOTEuMTM2LTkuMjE2IDEzMy40NjEzMzMtMjcuMzA2NjY3czc4Ljg0OC00Mi42NjY2NjcgMTA5LjU2OC03My4zODY2NjcgNTQuOTU0NjY3LTY3LjI0MjY2NyA3My4zODY2NjctMTA5LjU2OCAyNy4zMDY2NjctODYuNjk4NjY3IDI3LjMwNjY2Ni0xMzMuNDYxMzMzYzAtNDYuNDIxMzMzLTkuMjE2LTkwLjc5NDY2Ny0yNy4zMDY2NjYtMTMzLjEycy00Mi42NjY2NjctNzguODQ4LTczLjM4NjY2Ny0xMDkuNTY4LTY3LjI0MjY2Ny01NC45NTQ2NjctMTA5LjU2OC03My4zODY2NjctODYuNjk4NjY3LTI3LjMwNjY2Ny0xMzMuNDYxMzMzLTI3LjMwNjY2NmgtMTEuNjA1MzM0Yy0yOC42NzIgMTIzLjU2MjY2Ny00My4zNDkzMzMgMjM3LjkwOTMzMy00My4zNDkzMzMgMzQzLjcyMjY2NnpcIixcbiAgICBcInAtaWRcIjogXCIxMTAwM1wiXG4gIH0pKTtcbiAgdmFyIGxpc3QgPSBhbGxTdGF0ZS5maWx0ZXIoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlICE9PSBwcmVmZXJzQ29sb3I7XG4gIH0pO1xuXG4gIHZhciBjaGFuZ2VDb2xvciA9IGZ1bmN0aW9uIGNoYW5nZUNvbG9yKGV2LCB0b0NvbG9yKSB7XG4gICAgaWYgKCFpc1NpZGVNZW51ICYmIG9uRGFya1N3aXRjaENsaWNrKSB7XG4gICAgICBvbkRhcmtTd2l0Y2hDbGljayhldik7XG4gICAgfVxuXG4gICAgaWYgKHRvQ29sb3IgPT09IHByZWZlcnNDb2xvcikgcmV0dXJuO1xuICAgIHNldENvbG9yKHRvQ29sb3IpO1xuICB9O1xuXG4gIHZhciBnZXRTdmcgPSBmdW5jdGlvbiBnZXRTdmcoYmFzZUNvbG9yKSB7XG4gICAgc3dpdGNoIChiYXNlQ29sb3IpIHtcbiAgICAgIGNhc2UgJ2RhcmsnOlxuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICAgIGtleTogXCJkdW1pLWRhcmstYnRuLW1vb25cIixcbiAgICAgICAgICB0aXRsZTogXCJEYXJrIHRoZW1lXCIsXG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldikge1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZUNvbG9yKGV2LCBiYXNlQ29sb3IpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LWRhcmstbW9vbiBcIi5jb25jYXQoYmFzZUNvbG9yID09PSBwcmVmZXJzQ29sb3IgPyAnX19kdW1pLWRlZmF1bHQtZGFyay1zd2l0Y2gtYWN0aXZlJyA6ICcnKVxuICAgICAgICB9LCBtb29uU3ZnKTtcblxuICAgICAgY2FzZSAnbGlnaHQnOlxuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICAgIGtleTogXCJkdW1pLWRhcmstYnRuLXN1blwiLFxuICAgICAgICAgIHRpdGxlOiBcIkxpZ2h0IHRoZW1lXCIsXG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldikge1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZUNvbG9yKGV2LCBiYXNlQ29sb3IpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LWRhcmstc3VuIFwiLmNvbmNhdChiYXNlQ29sb3IgPT09IHByZWZlcnNDb2xvciA/ICdfX2R1bWktZGVmYXVsdC1kYXJrLXN3aXRjaC1hY3RpdmUnIDogJycpXG4gICAgICAgIH0sIHN1blN2Zyk7XG5cbiAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgICAgICAgIGtleTogXCJkdW1pLWRhcmstYnRuLWF1dG9cIixcbiAgICAgICAgICB0aXRsZTogXCJEZWZhdWx0IHRvIHN5c3RlbVwiLFxuICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXYpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VDb2xvcihldiwgYmFzZUNvbG9yKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1kYXJrLWF1dG8gXCIuY29uY2F0KGJhc2VDb2xvciA9PT0gcHJlZmVyc0NvbG9yID8gJ19fZHVtaS1kZWZhdWx0LWRhcmstc3dpdGNoLWFjdGl2ZScgOiAnJylcbiAgICAgICAgfSwgYXV0b1N2Zyk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LWRhcmtcIlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LWRhcmstc3dpdGNoIFwiLmNvbmNhdCghaXNTaWRlTWVudSAmJiBkYXJrU3dpdGNoID8gXCJfX2R1bWktZGVmYXVsdC1kYXJrLXN3aXRjaC1vcGVuXCIgOiBcIlwiKVxuICB9LCBpc1NpZGVNZW51ID8gYWxsU3RhdGUubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGdldFN2ZyhpdGVtKTtcbiAgfSkgOiBnZXRTdmcocHJlZmVyc0NvbG9yKSksICFpc1NpZGVNZW51ICYmIGRhcmtTd2l0Y2ggJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1kYXJrLXN3aXRjaC1saXN0XCJcbiAgfSwgbGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gZ2V0U3ZnKGl0ZW0pO1xuICB9KSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGFyazsiLCJmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbnRleHQsIExpbmsgfSBmcm9tICdkdW1pL3RoZW1lJztcbmltcG9ydCBOYXZiYXIgZnJvbSAnLi9jb21wb25lbnRzL05hdmJhcic7XG5pbXBvcnQgU2lkZU1lbnUgZnJvbSAnLi9jb21wb25lbnRzL1NpZGVNZW51JztcbmltcG9ydCBTbHVnTGlzdCBmcm9tICcuL2NvbXBvbmVudHMvU2x1Z0xpc3QnO1xuaW1wb3J0IFNlYXJjaEJhciBmcm9tICcuL2NvbXBvbmVudHMvU2VhcmNoQmFyJztcbmltcG9ydCBEYXJrIGZyb20gJy4vY29tcG9uZW50cy9EYXJrJztcbmltcG9ydCAnLi9zdHlsZS9sYXlvdXQubGVzcyc7XG5cbnZhciBIZXJvID0gZnVuY3Rpb24gSGVybyhoZXJvKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1sYXlvdXQtaGVyb1wiXG4gIH0sIGhlcm8uaW1hZ2UgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge1xuICAgIHNyYzogaGVyby5pbWFnZVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJoMVwiLCBudWxsLCBoZXJvLnRpdGxlKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICBfX2h0bWw6IGhlcm8uZGVzY1xuICAgIH1cbiAgfSksIGhlcm8uYWN0aW9ucyAmJiBoZXJvLmFjdGlvbnMubWFwKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGluaywge1xuICAgICAgdG86IGFjdGlvbi5saW5rLFxuICAgICAga2V5OiBhY3Rpb24udGV4dFxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHtcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICB9LCBhY3Rpb24udGV4dCkpO1xuICB9KSkpO1xufTtcblxudmFyIEZlYXR1cmVzID0gZnVuY3Rpb24gRmVhdHVyZXMoZmVhdHVyZXMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiX19kdW1pLWRlZmF1bHQtbGF5b3V0LWZlYXR1cmVzXCJcbiAgfSwgZmVhdHVyZXMubWFwKGZ1bmN0aW9uIChmZWF0KSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGxcIiwge1xuICAgICAga2V5OiBmZWF0LnRpdGxlLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBmZWF0Lmljb24gPyBcInVybChcIi5jb25jYXQoZmVhdC5pY29uLCBcIilcIikgOiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICB9LCBmZWF0LmxpbmsgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7XG4gICAgICB0bzogZmVhdC5saW5rXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkdFwiLCBudWxsLCBmZWF0LnRpdGxlKSkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImR0XCIsIG51bGwsIGZlYXQudGl0bGUpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRkXCIsIHtcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogZmVhdC5kZXNjXG4gICAgICB9XG4gICAgfSkpO1xuICB9KSk7XG59O1xuXG52YXIgTGF5b3V0ID0gZnVuY3Rpb24gTGF5b3V0KF9yZWYpIHtcbiAgdmFyIF9tZXRhJHNsdWdzLCBfbWF0Y2g7XG5cbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbjtcblxuICB2YXIgX3VzZUNvbnRleHQgPSB1c2VDb250ZXh0KGNvbnRleHQpLFxuICAgICAgX3VzZUNvbnRleHQkY29uZmlnID0gX3VzZUNvbnRleHQuY29uZmlnLFxuICAgICAgbW9kZSA9IF91c2VDb250ZXh0JGNvbmZpZy5tb2RlLFxuICAgICAgcmVwb3NpdG9yeSA9IF91c2VDb250ZXh0JGNvbmZpZy5yZXBvc2l0b3J5LFxuICAgICAgbmF2SXRlbXMgPSBfdXNlQ29udGV4dC5uYXYsXG4gICAgICBtZXRhID0gX3VzZUNvbnRleHQubWV0YSxcbiAgICAgIGxvY2FsZSA9IF91c2VDb250ZXh0LmxvY2FsZTtcblxuICB2YXIgcmVwb1VybCA9IHJlcG9zaXRvcnkudXJsLFxuICAgICAgYnJhbmNoID0gcmVwb3NpdG9yeS5icmFuY2gsXG4gICAgICBwbGF0Zm9ybSA9IHJlcG9zaXRvcnkucGxhdGZvcm07XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHRydWUpLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICBtZW51Q29sbGFwc2VkID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldE1lbnVDb2xsYXBzZWQgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLFxuICAgICAgZGFya1N3aXRjaCA9IF91c2VTdGF0ZTRbMF0sXG4gICAgICBzZXREYXJrU3dpdGNoID0gX3VzZVN0YXRlNFsxXTtcblxuICB2YXIgaXNTaXRlTW9kZSA9IG1vZGUgPT09ICdzaXRlJztcbiAgdmFyIHNob3dIZXJvID0gaXNTaXRlTW9kZSAmJiBtZXRhLmhlcm87XG4gIHZhciBzaG93RmVhdHVyZXMgPSBpc1NpdGVNb2RlICYmIG1ldGEuZmVhdHVyZXM7XG4gIHZhciBzaG93U2lkZU1lbnUgPSBtZXRhLnNpZGVtZW51ICE9PSBmYWxzZSAmJiAhc2hvd0hlcm8gJiYgIXNob3dGZWF0dXJlcyAmJiAhbWV0YS5nYXBsZXNzO1xuICB2YXIgc2hvd1NsdWdzID0gIXNob3dIZXJvICYmICFzaG93RmVhdHVyZXMgJiYgQm9vbGVhbigoX21ldGEkc2x1Z3MgPSBtZXRhLnNsdWdzKSA9PT0gbnVsbCB8fCBfbWV0YSRzbHVncyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21ldGEkc2x1Z3MubGVuZ3RoKSAmJiAobWV0YS50b2MgPT09ICdjb250ZW50JyB8fCBtZXRhLnRvYyA9PT0gdW5kZWZpbmVkKSAmJiAhbWV0YS5nYXBsZXNzO1xuICB2YXIgaXNDTiA9IC9eemh8Y24kL2kudGVzdChsb2NhbGUpO1xuICB2YXIgdXBkYXRlZFRpbWVJbnMgPSBuZXcgRGF0ZShtZXRhLnVwZGF0ZWRUaW1lKTtcbiAgdmFyIHVwZGF0ZWRUaW1lID0gXCJcIi5jb25jYXQodXBkYXRlZFRpbWVJbnMudG9Mb2NhbGVEYXRlU3RyaW5nKFtdLCB7XG4gICAgaG91cjEyOiBmYWxzZVxuICB9KSwgXCIgXCIpLmNvbmNhdCh1cGRhdGVkVGltZUlucy50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHtcbiAgICBob3VyMTI6IGZhbHNlXG4gIH0pKTtcbiAgdmFyIHJlcG9QbGF0Zm9ybSA9IHtcbiAgICBnaXRodWI6ICdHaXRIdWInLFxuICAgIGdpdGxhYjogJ0dpdExhYidcbiAgfVsoKF9tYXRjaCA9IChyZXBvVXJsIHx8ICcnKS5tYXRjaCgvKGdpdGh1YnxnaXRsYWIpLykpID09PSBudWxsIHx8IF9tYXRjaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21hdGNoWzFdKSB8fCAnbm90aGluZyddIHx8IHBsYXRmb3JtO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1sYXlvdXRcIixcbiAgICBcImRhdGEtcm91dGVcIjogbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgXCJkYXRhLXNob3ctc2lkZW1lbnVcIjogU3RyaW5nKHNob3dTaWRlTWVudSksXG4gICAgXCJkYXRhLXNob3ctc2x1Z3NcIjogU3RyaW5nKHNob3dTbHVncyksXG4gICAgXCJkYXRhLXNpdGUtbW9kZVwiOiBpc1NpdGVNb2RlLFxuICAgIFwiZGF0YS1nYXBsZXNzXCI6IFN0cmluZyghIW1ldGEuZ2FwbGVzcyksXG4gICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgIHNldERhcmtTd2l0Y2goZmFsc2UpO1xuICAgICAgaWYgKG1lbnVDb2xsYXBzZWQpIHJldHVybjtcbiAgICAgIHNldE1lbnVDb2xsYXBzZWQodHJ1ZSk7XG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChOYXZiYXIsIHtcbiAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgbmF2UHJlZml4OiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWFyY2hCYXIsIG51bGwpLFxuICAgIGRhcmtQcmVmaXg6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERhcmssIHtcbiAgICAgIGRhcmtTd2l0Y2g6IGRhcmtTd2l0Y2gsXG4gICAgICBvbkRhcmtTd2l0Y2hDbGljazogZnVuY3Rpb24gb25EYXJrU3dpdGNoQ2xpY2soZXYpIHtcbiAgICAgICAgc2V0RGFya1N3aXRjaChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuICF2YWw7XG4gICAgICAgIH0pO1xuICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0sXG4gICAgICBpc1NpZGVNZW51OiBmYWxzZVxuICAgIH0pLFxuICAgIG9uTW9iaWxlTWVudUNsaWNrOiBmdW5jdGlvbiBvbk1vYmlsZU1lbnVDbGljayhldikge1xuICAgICAgc2V0TWVudUNvbGxhcHNlZChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiAhdmFsO1xuICAgICAgfSk7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTaWRlTWVudSwge1xuICAgIGRhcmtQcmVmaXg6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERhcmssIHtcbiAgICAgIGRhcmtTd2l0Y2g6IGRhcmtTd2l0Y2gsXG4gICAgICBpc1NpZGVNZW51OiB0cnVlXG4gICAgfSksXG4gICAgbW9iaWxlTWVudUNvbGxhcHNlZDogbWVudUNvbGxhcHNlZCxcbiAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgfSksIHNob3dTbHVncyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTbHVnTGlzdCwge1xuICAgIHNsdWdzOiBtZXRhLnNsdWdzLFxuICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1sYXlvdXQtdG9jXCJcbiAgfSksIHNob3dIZXJvICYmIEhlcm8obWV0YS5oZXJvKSwgc2hvd0ZlYXR1cmVzICYmIEZlYXR1cmVzKG1ldGEuZmVhdHVyZXMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LWxheW91dC1jb250ZW50XCJcbiAgfSwgY2hpbGRyZW4sICFzaG93SGVybyAmJiAhc2hvd0ZlYXR1cmVzICYmIG1ldGEuZmlsZVBhdGggJiYgIW1ldGEuZ2FwbGVzcyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIl9fZHVtaS1kZWZhdWx0LWxheW91dC1mb290ZXItbWV0YVwiXG4gIH0sIHJlcG9QbGF0Zm9ybSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rLCB7XG4gICAgdG86IFwiXCIuY29uY2F0KHJlcG9VcmwsIFwiL2VkaXQvXCIpLmNvbmNhdChicmFuY2gsIFwiL1wiKS5jb25jYXQobWV0YS5maWxlUGF0aClcbiAgfSwgaXNDTiA/IFwiXFx1NTcyOCBcIi5jb25jYXQocmVwb1BsYXRmb3JtLCBcIiBcXHU0RTBBXFx1N0YxNlxcdThGOTFcXHU2QjY0XFx1OTg3NVwiKSA6IFwiRWRpdCB0aGlzIGRvYyBvbiBcIi5jb25jYXQocmVwb1BsYXRmb3JtKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgXCJkYXRhLXVwZGF0ZWQtdGV4dFwiOiBpc0NOID8gJ+acgOWQjuabtOaWsOaXtumXtO+8micgOiAnTGFzdCB1cGRhdGU6ICdcbiAgfSwgdXBkYXRlZFRpbWUpKSwgKHNob3dIZXJvIHx8IHNob3dGZWF0dXJlcykgJiYgbWV0YS5mb290ZXIgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJfX2R1bWktZGVmYXVsdC1sYXlvdXQtZm9vdGVyXCIsXG4gICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgIF9faHRtbDogbWV0YS5mb290ZXJcbiAgICB9XG4gIH0pKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMYXlvdXQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNwREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDbEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNsRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzVIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9
//# sourceURL=webpack-internal:///32357
`)}}]);
